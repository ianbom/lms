import{j as e,L as p,r as x,H as f}from"./app-Dyqq1GHl.js";import{I as g}from"./Icon-D0EQYAdK.js";import{U as b}from"./UserDashboardLayout-COuLwtdS.js";function j({title:s,mentor:t,mentorImage:a,thumbnail:l,progress:r,completed:i=!1,status:o,statusColor:u,href:m}){return e.jsxs(p,{href:m,className:"border-border-light shadow-card hover:shadow-card-hover group flex flex-col overflow-hidden rounded-xl border bg-white transition-all",children:[e.jsxs("div",{className:"relative aspect-[4/3] w-full overflow-hidden bg-gray-100",children:[e.jsx("img",{alt:s,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",src:l||"/images/placeholder-class.jpg"}),e.jsx(v,{status:o,colorClass:u})]}),e.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[e.jsx("h4",{className:"mb-1 line-clamp-2 text-base font-bold text-slate-900",children:s}),e.jsx(y,{name:t,image:a}),e.jsx(w,{progress:r,completed:i})]})]})}function v({status:s,colorClass:t}){return e.jsx("div",{className:`absolute right-3 top-3 rounded-full px-2 py-1 text-xs font-semibold backdrop-blur-sm ${t}`,children:s})}function y({name:s,image:t}){return e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"h-5 w-5 overflow-hidden rounded-full bg-gray-200",children:e.jsx("img",{alt:s,className:"h-full w-full object-cover",src:t||"/images/placeholder-avatar.jpg"})}),e.jsx("span",{className:"text-xs font-medium text-slate-500",children:s})]})}function w({progress:s,completed:t}){return e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"mb-1 flex justify-between text-xs font-medium text-slate-500",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s,"%"]})]}),e.jsx("div",{className:"h-1.5 w-full rounded-full bg-gray-100",children:e.jsx("div",{className:`h-1.5 rounded-full ${t?"bg-green-600":"bg-primary"}`,style:{width:`${s}%`}})})]})}function N({enrollments:s}){return e.jsx("div",{className:"grid grid-cols-1 gap-6 pb-10 sm:grid-cols-2 lg:grid-cols-3",children:s.map(t=>{const a=t.status==="completed",l=t.class.mentors[0];return e.jsx(j,{title:t.class.title,mentor:l?.name||"Unknown Mentor",mentorImage:l?.profile_picture_url||"/images/placeholder-avatar.jpg",thumbnail:t.class.thumbnail_url||"/images/placeholder-class.jpg",progress:t.progress,completed:a,status:a?"Completed":"Active",statusColor:a?"bg-green-100 text-green-700":"bg-white/90 text-primary",href:route("user.study.watch",{classId:t.class.id,videoId:t.class.first_video_id})},t.id)})})}function C({hasFilters:s}){return e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 bg-slate-50 py-16",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100 text-slate-400",children:e.jsx(g,{name:"school",size:32})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-900",children:s?"Tidak ada kelas ditemukan":"Belum ada kelas"}),e.jsx("p",{className:"mb-6 text-center text-sm text-slate-500",children:s?"Coba ubah filter atau kata kunci pencarian.":"Kamu belum mengikuti kelas apapun. Mulai belajar sekarang!"}),!s&&e.jsxs(p,{href:route("user.classes"),className:"inline-flex items-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-primary-dark",children:[e.jsx(g,{name:"explore",size:18}),"Jelajahi Kelas"]})]})}const S=[{value:"newest",label:"Terbaru"},{value:"oldest",label:"Terlama"},{value:"progress-high",label:"Progress Tertinggi"},{value:"progress-low",label:"Progress Terendah"},{value:"alphabetical",label:"A-Z"}],k=[{value:"all",label:"Semua Kelas"},{value:"active",label:"Sedang Berjalan"},{value:"completed",label:"Selesai"}];function B({searchQuery:s,onSearchChange:t,filterBy:a,onFilterChange:l,sortBy:r,onSortChange:i}){return e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(_,{value:s,onChange:t}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(h,{value:a,onChange:o=>l(o),options:k,icon:"expand_more"}),e.jsx(h,{value:r,onChange:o=>i(o),options:S,icon:"sort"})]})]})}function _({value:s,onChange:t}){return e.jsxs("div",{className:"relative flex-1 sm:max-w-xs",children:[e.jsx(g,{name:"search",size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Cari kelas...",value:s,onChange:a=>t(a.target.value),className:"w-full rounded-md border border-slate-200 bg-white py-2 pl-10 pr-4 text-sm text-slate-900 placeholder-slate-400 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"})]})}function h({value:s,onChange:t,options:a,icon:l}){return e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:s,onChange:r=>t(r.target.value),className:"appearance-none rounded-md border border-slate-200 bg-white py-2 pl-3 pr-10 text-sm font-medium text-slate-700 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",children:a.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx(g,{name:l,size:20,className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-slate-400"})]})}function T({stats:s}){const t=[{icon:"library_books",iconBg:"bg-primary/10",iconColor:"text-primary",value:s.total,label:"Total Kelas"},{icon:"play_circle",iconBg:"bg-blue-50",iconColor:"text-blue-600",value:s.active,label:"Sedang Berjalan"},{icon:"check_circle",iconBg:"bg-green-50",iconColor:"text-green-600",value:s.completed,label:"Selesai"}];return e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:t.map(a=>e.jsx(I,{...a},a.label))})}function I({icon:s,iconBg:t,iconColor:a,value:l,label:r}){return e.jsxs("div",{className:"border-border-light shadow-card flex items-center gap-4 rounded-xl border bg-white p-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-md ${t} ${a}`,children:e.jsx(g,{name:s,size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:l}),e.jsx("p",{className:"text-sm text-slate-500",children:r})]})]})}function E(s){const[t,a]=x.useState("newest"),[l,r]=x.useState("all"),[i,o]=x.useState(""),u=x.useMemo(()=>{let n=[...s];if(i.trim()){const c=i.toLowerCase();n=n.filter(d=>d.class.title.toLowerCase().includes(c))}return l!=="all"&&(n=n.filter(c=>c.status===l)),n.sort((c,d)=>{switch(t){case"newest":return new Date(d.created_at).getTime()-new Date(c.created_at).getTime();case"oldest":return new Date(c.created_at).getTime()-new Date(d.created_at).getTime();case"progress-high":return d.progress-c.progress;case"progress-low":return c.progress-d.progress;case"alphabetical":return c.class.title.localeCompare(d.class.title);default:return 0}}),n},[s,t,l,i]),m=x.useMemo(()=>({total:s.length,active:s.filter(n=>n.status==="active").length,completed:s.filter(n=>n.status==="completed").length}),[s]);return{sortBy:t,filterBy:l,searchQuery:i,setSortBy:a,setFilterBy:r,setSearchQuery:o,filteredEnrollments:u,stats:m}}function K(){return e.jsxs("div",{className:"mt-6 flex flex-col gap-1 lg:mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900 sm:text-3xl",children:"Kelas Saya"}),e.jsx("p",{className:"text-sm text-slate-500 sm:text-base",children:"Kelola dan lanjutkan kelas yang telah kamu ikuti."})]})}function L({enrollments:s=[]}){const{sortBy:t,filterBy:a,searchQuery:l,setSortBy:r,setFilterBy:i,setSearchQuery:o,filteredEnrollments:u,stats:m}=E(s),n=l.trim()!==""||a!=="all";return e.jsxs(b,{children:[e.jsx(f,{title:"Kelas Saya"}),e.jsx(K,{}),e.jsx(T,{stats:m}),e.jsx(B,{searchQuery:l,onSearchChange:o,filterBy:a,onFilterChange:i,sortBy:t,onSortChange:r}),u.length>0?e.jsx(N,{enrollments:u}):e.jsx(C,{hasFilters:n})]})}export{L as default};
