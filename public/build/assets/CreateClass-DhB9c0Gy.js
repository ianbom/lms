import{j as e,u as w,r as f,H as D,L as P}from"./app-UtKUC6ir.js";import{F as S,a as h}from"./FormInput-Dptc1j_G.js";import{F as k}from"./FormSelect-CUkwTcgc.js";import{I as m}from"./Icon-D6o0Wb4v.js";import{A as F,a as _}from"./AdminLayout-Cxk5dXNS.js";import{R as $}from"./RichTextEditor-Bqsq39_m.js";function z({label:t,value:a,onChange:r,aspectRatio:n="16:9 Preview",maxSize:i="2MB",accept:o=".jpg,.png",className:u=""}){const l=c=>{c.preventDefault();const d=c.dataTransfer.files[0];d&&r?.(d)},p=c=>{const d=c.target.files?.[0];d&&r?.(d)};return e.jsxs("div",{className:`flex flex-col gap-3 ${u}`,children:[t&&e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-[#5e6a62]",children:t}),e.jsx("div",{className:"flex aspect-video items-center justify-center rounded-xl border border-dashed border-[#dae7e0] bg-[#f9fafb]",children:a?e.jsx("img",{src:a,alt:"Preview",className:"h-full w-full rounded-xl object-cover"}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(m,{name:"image",size:32,className:"text-[#c0d4c8]"}),e.jsx("span",{className:"text-xs text-[#a0b3a9]",children:n})]})}),e.jsxs("label",{onDrop:l,onDragOver:c=>c.preventDefault(),className:"flex cursor-pointer flex-col items-center gap-1 rounded-lg border border-dashed border-[#dae7e0] p-6 transition-colors hover:border-primary hover:bg-primary/5",children:[e.jsx("input",{type:"file",accept:o,onChange:p,className:"hidden"}),e.jsx("p",{className:"text-sm text-[#5e6a62]",children:"Drag and drop or click to upload"}),e.jsxs("p",{className:"text-xs text-[#a0b3a9]",children:["JPG, PNG up to ",i]})]})]})}function A({label:t="Instructors & Mentors",selectedMentors:a,onAddMentor:r,onRemoveMentor:n,onSearchChange:i,searchPlaceholder:o="Search mentors by name...",className:u=""}){return e.jsxs("div",{className:`rounded-xl border border-[#e5e7eb] bg-white p-6 ${u}`,children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{name:"group",size:20,className:"text-primary"}),e.jsx("h3",{className:"text-base font-semibold text-[#101814]",children:t})]}),e.jsx("button",{type:"button",onClick:r,className:"text-sm font-medium text-primary transition-colors hover:text-[#00622e]",children:"Add New"})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(m,{name:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#a0b3a9]"}),e.jsx("input",{type:"text",placeholder:o,onChange:l=>i?.(l.target.value),className:"h-11 w-full rounded-lg border border-[#dae7e0] bg-white pl-10 pr-4 text-sm text-[#101814] placeholder-[#a0b3a9] transition-all focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.map(l=>e.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-[#e5e7eb] bg-[#f9fafb] py-1.5 pl-1.5 pr-3",children:[e.jsx(F,{src:l.avatar,initials:l.name.split(" ").map(p=>p[0]).join(""),size:"sm",color:"bg-primary/10 text-primary"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-medium text-[#101814]",children:l.name}),e.jsx("span",{className:"text-[10px] text-[#a0b3a9]",children:l.role})]}),e.jsx("button",{type:"button",onClick:()=>n?.(l.id),className:"ml-1 text-[#a0b3a9] transition-colors hover:text-red-500",children:e.jsx(m,{name:"close",size:16})})]},l.id)),e.jsx("button",{type:"button",onClick:r,className:"flex h-9 w-9 items-center justify-center rounded-full border border-dashed border-[#dae7e0] text-[#a0b3a9] transition-colors hover:border-primary hover:text-primary",children:e.jsx(m,{name:"add",size:18})})]})]})}function b({title:t,children:a,className:r=""}){return e.jsxs("div",{className:`rounded-xl border border-[#e5e7eb] bg-white p-5 ${r}`,children:[e.jsx("h3",{className:"mb-4 text-xs font-semibold uppercase tracking-wider text-[#5e6a62]",children:t}),a]})}function L({label:t,options:a,value:r,onChange:n,className:i=""}){return e.jsxs("div",{className:`flex flex-col gap-2 ${i}`,children:[t&&e.jsx("label",{className:"text-sm font-medium text-[#101814]",children:t}),e.jsx("div",{className:"flex gap-2",children:a.map(o=>e.jsx("button",{type:"button",onClick:()=>n?.(o.value),className:`rounded-lg border px-4 py-2.5 text-sm font-medium transition-all ${r===o.value?"border-primary bg-primary/10 text-primary":"border-[#dae7e0] bg-white text-[#5e6a62] hover:border-[#c0d4c8] hover:bg-[#f9fafb]"}`,children:o.label},o.value))})]})}function g({label:t,description:a,checked:r=!1,onChange:n,className:i=""}){return e.jsxs("div",{className:`flex items-center justify-between ${i}`,onClick:()=>n?.(!r),children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-[#101814]",children:t}),a&&e.jsx("span",{className:"text-xs text-[#a0b3a9]",children:a})]}),e.jsx("button",{type:"button",role:"switch","aria-checked":r,className:`relative h-6 w-11 rounded-full transition-colors ${r?"bg-primary":"bg-[#dae7e0]"}`,children:e.jsx("span",{className:`absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-sm transition-transform ${r?"left-[22px]":"left-0.5"}`})})]})}const M=[{value:"design",label:"Design"},{value:"development",label:"Development"},{value:"business",label:"Business"},{value:"marketing",label:"Marketing"},{value:"creative",label:"Creative Arts"}],T=[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],R=[{id:1,name:"Jane Doe",role:"Lead Designer",avatar:void 0},{id:2,name:"John Smith",role:"Sr. Engineer",avatar:void 0}];function U(){const{data:t,setData:a,post:r,processing:n,errors:i}=w({title:"",description:"",category_id:"",difficulty:"beginner",thumbnail:null,price:"199",discount:"20",is_public:!0,is_featured:!1,mentors:[],status:"published"}),[o,u]=f.useState(),[l,p]=f.useState(R),c=parseFloat(t.price)||0,d=parseFloat(t.discount)||0,j=c*(1-d/100),v=s=>{p(l.filter(x=>x.id!==s)),a("mentors",t.mentors.filter(x=>x!==s))},N=s=>{if(s){const x=URL.createObjectURL(s);u(x),a("thumbnail",s)}},y=s=>{s.preventDefault(),r(route("admin.classes.create"),{forceFormData:!0})},C=s=>{a(x=>({...x,is_public:s,status:s?"published":"draft"}))};return e.jsxs(_,{breadcrumbs:[{label:"Classes",href:route("admin.classes")},{label:"Create New Class"}],children:[e.jsx(D,{title:"Create New Class"}),e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-[#101814]",children:"Create New Class"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{href:route("admin.classes"),className:"rounded-lg px-4 py-2.5 text-sm font-medium text-[#5e6a62] transition-colors hover:bg-[#f0f5f2] hover:text-[#101814]",children:"Discard"}),e.jsx("button",{type:"button",className:"rounded-lg border border-[#dae7e0] bg-white px-4 py-2.5 text-sm font-medium text-[#101814] transition-colors hover:bg-[#f9fafb]",children:"Save Draft"}),e.jsxs("button",{type:"button",onClick:y,disabled:n,className:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2.5 text-sm font-bold text-white shadow-md shadow-primary/20 transition-all hover:bg-[#00622e] disabled:opacity-50",children:[e.jsx(m,{name:"publish",size:18}),n?"Publishing...":"Publish"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"flex flex-col gap-6 lg:col-span-2",children:[e.jsx(S,{icon:"edit_note",title:"Class Details",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(h,{label:"Class Title",required:!0,placeholder:"e.g., Advanced System Architecture",value:t.title,onChange:s=>a("title",s),error:i.title}),e.jsx($,{label:"Description",value:t.description,onChange:s=>a("description",s),placeholder:"Start typing your class description here...",maxLength:2e3}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2",children:[e.jsx(k,{label:"Category",placeholder:"Select a category",options:M,value:t.category_id,onChange:s=>a("category_id",s)}),e.jsx(L,{label:"Difficulty Level",options:T,value:t.difficulty,onChange:s=>a("difficulty",s)})]})]})}),e.jsx(A,{selectedMentors:l,onRemoveMentor:v})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(b,{title:"Class Thumbnail",children:e.jsx(z,{value:o,onChange:N})}),e.jsx(b,{title:"Pricing",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(h,{label:"Normal Price ($)",type:"number",value:t.price,onChange:s=>a("price",s),error:i.price}),e.jsx(h,{label:"Discount (%)",type:"number",value:t.discount,onChange:s=>a("discount",s),error:i.discount}),e.jsxs("div",{className:"flex items-center justify-between border-t border-[#f0f5f2] pt-4",children:[e.jsx("span",{className:"text-sm text-[#5e6a62]",children:"Final Price"}),e.jsxs("div",{className:"text-right",children:[d>0&&e.jsxs("span",{className:"mr-2 text-sm text-[#a0b3a9] line-through",children:["$",c.toFixed(2)]}),e.jsxs("span",{className:"text-xl font-bold text-primary",children:["$",j.toFixed(2)]})]})]})]})}),e.jsx(b,{title:"Visibility",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(g,{label:"Public",description:"Visible to all students",checked:t.is_public,onChange:C}),e.jsx(g,{label:"Featured",description:"Show on homepage",checked:t.is_featured,onChange:s=>a("is_featured",s)})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-[#a0b3a9]",children:[e.jsx(m,{name:"schedule",size:14}),"Autosaved 2 mins ago"]})]})]})]})}export{U as default};
