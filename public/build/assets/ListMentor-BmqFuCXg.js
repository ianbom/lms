import{j as e,r as o,u as M,H as C}from"./app-C5N62aGV.js";import{I as n}from"./Icon-CDWY4AO3.js";import{P as S,M as z}from"./MentorForm-jUylYcJj.js";import{A as E}from"./AdminLayout-DDA11E6E.js";import"./FormInput-Bj6f1Po7.js";import"./ImageUpload-DABLUHlB.js";import"./RichTextEditor-DjN7FyvT.js";import"./Avatar-B_3ZgP3A.js";import"./Toast-B2Zq2dyX.js";function _({mentor:t,onClick:a,onEdit:l}){return e.jsxs("div",{className:"group relative flex cursor-pointer flex-col overflow-hidden rounded-2xl border border-slate-100 bg-white shadow-sm transition-all duration-300 hover:shadow-lg",onClick:()=>a?.(t),children:[l&&e.jsx("button",{onClick:r=>{r.stopPropagation(),l(t)},className:"absolute right-3 top-3 z-10 rounded-lg bg-white p-2 text-slate-400 shadow-sm transition-all hover:bg-primary hover:text-white",title:"Edit Mentor",children:e.jsx(n,{name:"edit",size:18})}),e.jsxs("div",{className:"flex flex-1 flex-col items-center p-6",children:[e.jsx("div",{className:"relative mb-4",children:e.jsx("div",{className:"size-20 rounded-full border-2 border-white bg-slate-100 bg-cover bg-center shadow-sm",style:{backgroundImage:t.avatarUrl?`url("${t.avatarUrl}")`:void 0},children:!t.avatarUrl&&e.jsx("div",{className:"flex size-full items-center justify-center text-2xl font-bold text-slate-400",children:t.name.charAt(0).toUpperCase()})})}),e.jsx("h3",{className:"mb-1 text-lg font-bold text-[#101815] transition-colors group-hover:text-primary",children:t.name}),e.jsx("p",{className:"text-sm text-[#64748b]",children:t.email})]}),e.jsx("div",{className:"w-full border-t border-slate-100"}),e.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-100 bg-slate-50/50 py-4",children:[e.jsx(p,{label:"Kelas",value:t.stats.classes,isPrimary:!0}),e.jsx(p,{label:"Siswa Aktif",value:t.stats.activeStudents})]})]})}function p({label:t,value:a,isPrimary:l,showStar:r}){return e.jsxs("div",{className:"flex flex-col items-center gap-1 px-2",children:[e.jsx("span",{className:`text-center text-[10px] font-bold uppercase tracking-wider ${l?"text-primary":"text-[#64748b]"}`,children:t}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-base font-bold text-[#101815]",children:r?a.toFixed(1):a}),r&&e.jsx(n,{name:"star",size:16,className:"text-amber-400",filled:!0})]})]})}function L({mentors:t,onMentorClick:a,onMentorEdit:l}){return t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-white py-16",children:[e.jsx("div",{className:"mb-4 flex size-16 items-center justify-center rounded-full bg-slate-100",children:e.jsx("span",{className:"material-symbols-outlined text-3xl text-slate-400",children:"person_search"})}),e.jsx("h3",{className:"mb-1 text-lg font-semibold text-[#101815]",children:"Tidak ada mentor ditemukan"}),e.jsx("p",{className:"text-sm text-[#64748b]",children:"Coba ubah filter atau kata kunci pencarian Anda."})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(r=>e.jsx(_,{mentor:r,onClick:a,onEdit:l},r.id))})}function P({searchValue:t,onSearchChange:a,onFilter:l,onExport:r}){return e.jsxs("div",{className:"flex w-full flex-col gap-4 md:flex-row",children:[e.jsxs("div",{className:"group relative flex-1",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:e.jsx(n,{name:"search",size:20,className:"text-slate-400 transition-colors group-focus-within:text-primary"})}),e.jsx("input",{type:"text",value:t,onChange:d=>a(d.target.value),className:"block w-full rounded-xl border border-slate-200 bg-white py-3 pl-11 pr-4 text-sm font-medium text-[#101815] placeholder-slate-400 shadow-sm transition-all focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Cari mentor berdasarkan nama atau email..."})]}),e.jsxs("div",{className:"flex gap-3",children:[l&&e.jsxs("button",{onClick:l,className:"flex items-center gap-2 whitespace-nowrap rounded-xl border border-slate-200 bg-white px-5 py-3 text-sm font-semibold text-[#101815] shadow-sm transition-all hover:bg-slate-50",children:[e.jsx(n,{name:"filter_list",size:20}),e.jsx("span",{children:"Filter"})]}),r&&e.jsxs("button",{onClick:r,className:"flex items-center gap-2 whitespace-nowrap rounded-xl border border-slate-200 bg-white px-5 py-3 text-sm font-semibold text-[#101815] shadow-sm transition-all hover:bg-slate-50",children:[e.jsx(n,{name:"ios_share",size:20}),e.jsx("span",{children:"Ekspor"})]})]})]})}function V({mentors:t}){const[a,l]=o.useState(""),[r,d]=o.useState(!1),[x,m]=o.useState(null),{data:b,setData:u,post:f,processing:g,errors:j,reset:v}=M({name:"",headline:"",bio:"",avatar:null,avatar_url:""}),h=o.useMemo(()=>t.map(s=>({id:s.id,name:s.name,email:s.headline||"No headline",avatarUrl:s.avatar_url,isOnline:!1,stats:{classes:s.classes_count||0,activeStudents:s.students_count||0,rating:0}})),[t]),N=o.useMemo(()=>{const s=a.toLowerCase();return h.filter(i=>i.name.toLowerCase().includes(s)||i.email.toLowerCase().includes(s))},[a,h]),w=s=>{const i=t.find(k=>k.id===s.id);i&&(m(i),u({name:i.name,headline:i.headline||"",bio:i.bio||"",avatar:null,avatar_url:i.avatar_url||"",_method:"PUT"}),d(!0))},c=()=>{d(!1),m(null),v()},y=s=>{s.preventDefault(),x&&f(route("admin.mentors.update",x.id),{forceFormData:!0,onSuccess:()=>{c()}})};return e.jsxs(E,{breadcrumbs:[{label:"Direktori Mentor"}],children:[e.jsx(C,{title:"Direktori Mentor"}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx(S,{title:"Direktori Mentor",description:"Kelola semua mentor dan performa mereka di sini.",actionLabel:"Tambah Mentor",onAction:()=>window.location.href=route("admin.mentors.create")}),e.jsx(P,{searchValue:a,onSearchChange:l,onFilter:()=>console.log("Filter clicked"),onExport:()=>console.log("Export clicked")}),e.jsx(L,{mentors:N,onMentorEdit:w})]}),r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"max-h-[90vh] w-full max-w-4xl overflow-y-auto rounded-2xl bg-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 p-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Mentor"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Perbarui informasi mentor"})]}),e.jsx("button",{onClick:c,className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-100 hover:text-slate-600",children:e.jsx(n,{name:"close",size:24})})]}),e.jsx("div",{className:"p-6",children:e.jsx(z,{data:b,setData:u,errors:j,processing:g,onSubmit:y,submitLabel:"Simpan Perubahan",onCancel:c})})]})})]})}export{V as default};
