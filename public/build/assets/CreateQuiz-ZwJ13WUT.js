import{r as n,j as e,H as h,L as j,a as g}from"./app-wmMc2fTp.js";import{c as y,Q as N}from"./QuizForm-D8oJoWZ4.js";import{I as v}from"./Icon-DwnJikYR.js";import{A as w}from"./AdminLayout-Dx9jRmJK.js";import"./FormInput-CRJD2SCI.js";import"./FormSelect-BT2xAVr2.js";import"./Avatar-BxrD2P9k.js";function D({class:c,modules:u}){const[s,x]=n.useState({title:"",moduleId:"",quizContext:"post-test",questions:[y(1)]}),[l,a]=n.useState(!1),[r,m]=n.useState({}),p=i=>{i.preventDefault(),a(!0),m({});const o={module_id:parseInt(s.moduleId),title:s.title,is_pretest:s.quizContext==="pretest",questions:s.questions.map((t,f)=>({question:t.text,points:t.points||1,sort_order:f+1,options:t.options.map((d,b)=>({label:d.text,is_correct:d.isCorrect,sort_order:b+1}))}))};g.post(route("admin.quiz.store"),o,{onError:t=>{m(t),a(!1)},onFinish:()=>{a(!1)}})};return e.jsxs(w,{breadcrumbs:[{label:"Kelas",href:route("admin.classes")},{label:c.title},{label:"Buat Kuis"}],children:[e.jsx(h,{title:"Buat Kuis"}),e.jsx("form",{onSubmit:p,children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 px-4 py-6 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-[#101814] sm:text-3xl",children:"Buat Kuis"}),e.jsx("p",{className:"text-sm text-[#5e6a62] sm:text-base",children:"Konfigurasi pengaturan kuis dan kelola pertanyaan di bawah."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{href:route("admin.classes"),className:"inline-flex items-center justify-center rounded-md border border-[#dae7e0] bg-white px-4 py-2.5 text-sm font-semibold text-[#5e6a62] transition-colors hover:bg-[#f9fafb] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:"Batal"}),e.jsxs("button",{type:"submit",disabled:l,className:"inline-flex items-center justify-center gap-2 rounded-md bg-primary px-4 py-2.5 text-sm font-semibold text-white shadow-md shadow-primary/20 transition-all hover:bg-[#00622e] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50",children:[e.jsx(v,{name:"save",size:20}),l?"Menyimpan...":"Simpan Kuis"]})]})]}),Object.keys(r).length>0&&e.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 p-4",children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Terjadi kesalahan:"}),e.jsx("ul",{className:"mt-2 list-inside list-disc text-sm text-red-700",children:Object.values(r).map((i,o)=>e.jsx("li",{children:i},o))})]}),e.jsx(N,{data:s,errors:r,modules:u,onDataChange:x})]})})]})}export{D as default};
