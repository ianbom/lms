import{j as t,a as ae,r as b,g as we,R as ue,b as U,H as et}from"./app-CAUjhPa-.js";import{I as x}from"./Icon-JbZAKOja.js";import{U as tt}from"./UserDashboardLayout-w0apLZjI.js";const de=s=>{if(!s||s<=0)return"0:00";const e=Math.floor(s/3600),r=Math.floor(s%3600/60),n=Math.floor(s%60);return e>0?`${e}:${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`:`${r}:${n.toString().padStart(2,"0")}`},rt=s=>{switch(s?.toLowerCase()){case"pdf":return"picture_as_pdf";case"doc":case"docx":return"description";case"ppt":case"pptx":return"slideshow";case"xls":case"xlsx":return"table_chart";case"zip":case"rar":return"folder_zip";case"mp4":case"mov":case"avi":return"videocam";case"mp3":case"wav":return"audiotrack";case"jpg":case"jpeg":case"png":case"gif":return"image";default:return"insert_drive_file"}},st=s=>{switch(s?.toLowerCase()){case"pdf":return{bg:"bg-red-100",text:"text-red-500"};case"doc":case"docx":return{bg:"bg-blue-100",text:"text-blue-500"};case"ppt":case"pptx":return{bg:"bg-orange-100",text:"text-orange-500"};case"xls":case"xlsx":return{bg:"bg-green-100",text:"text-green-500"};case"zip":case"rar":return{bg:"bg-purple-100",text:"text-purple-500"};default:return{bg:"bg-slate-100",text:"text-slate-500"}}};function at({classData:s,currentVideoId:e,progressStats:r,onVideoSelect:n}){const i=(()=>{let a=!1;for(const u of s.modules)for(const o of u.videos){if(a)return{video:o,moduleTitle:u.title};o.id===e&&(a=!0)}return null})(),l=a=>a.progress?.[0]?.is_completed??!1,p=a=>a===e,d=a=>{ae.visit(`/user/study/${s.id}/quiz/${a}`)};return t.jsxs("aside",{className:"z-20 flex h-full w-full shrink-0 flex-col border-l border-slate-200 bg-white lg:mt-6 lg:w-[340px]",children:[t.jsxs("div",{className:"border-b border-slate-100 bg-white p-4 pt-14 sm:p-6 lg:pt-6",children:[t.jsx("h3",{className:"mb-1 text-lg font-bold text-slate-900",children:"Kurikulum Kelas"}),t.jsxs("div",{className:"mb-2 flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"font-medium text-slate-500",children:[r.progress_percent,"% Selesai"]}),t.jsxs("span",{className:"font-bold text-primary",children:[r.completed_videos,"/",r.total_videos]})]}),t.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-100",children:t.jsx("div",{className:"h-2.5 rounded-full bg-primary transition-all duration-300",style:{width:`${r.progress_percent}%`}})})]}),t.jsx("div",{className:"custom-scrollbar flex-1 space-y-6 overflow-y-auto p-4",children:s.modules.map((a,u)=>t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-3 px-2 text-xs font-bold uppercase tracking-wider text-slate-400",children:["Modul ",u+1,": ",a.title]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[a.videos.map(o=>{const h=l(o);return p(o.id)?t.jsxs("button",{className:"flex w-full scale-[1.02] transform items-start gap-3 rounded-xl bg-primary p-4 text-left text-white shadow-lg shadow-primary/30 transition-transform",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 shrink-0 animate-pulse items-center justify-center rounded-full bg-white/20 text-white",children:t.jsx(x,{name:"play_arrow",size:16})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h5",{className:"text-sm font-bold leading-snug",children:o.title}),t.jsxs("div",{className:"mt-2 flex items-center gap-2 text-white/80",children:[t.jsx(x,{name:"schedule",size:14}),t.jsx("span",{className:"text-xs font-medium",children:de(o.duration_sec)})]})]})]},o.id):h?t.jsxs("button",{onClick:()=>n(o.id),className:"group flex w-full items-start gap-3 rounded-xl p-3 text-left transition-colors hover:bg-slate-50",children:[t.jsx("div",{className:"mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded-full bg-primary text-white",children:t.jsx(x,{name:"check",size:14,className:"font-bold"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h5",{className:"text-sm font-medium text-slate-500 line-through decoration-slate-400",children:o.title}),t.jsx("span",{className:"mt-1 block text-xs text-slate-400",children:de(o.duration_sec)})]})]},o.id):t.jsxs("button",{onClick:()=>n(o.id),className:"group flex w-full items-start gap-3 rounded-xl p-3 text-left transition-colors hover:bg-slate-50",children:[t.jsx("div",{className:"mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border-2 border-slate-300 text-slate-300",children:t.jsx(x,{name:"play_arrow",size:10,className:"font-bold"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h5",{className:"text-sm font-medium text-slate-600 transition-colors group-hover:text-primary",children:o.title}),t.jsx("span",{className:"mt-1 block text-xs text-slate-400",children:de(o.duration_sec)})]})]},o.id)}),a.quizzes?.map(o=>t.jsxs("button",{onClick:()=>d(o.id),className:"group flex w-full items-start gap-3 rounded-xl p-3 text-left transition-colors hover:bg-amber-50",children:[t.jsx("div",{className:"mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border-2 border-amber-400 text-amber-400",children:t.jsx(x,{name:"quiz",size:10,className:"font-bold"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h5",{className:"text-sm font-medium text-slate-600 transition-colors group-hover:text-amber-600",children:o.title}),t.jsxs("span",{className:"mt-1 block text-xs text-slate-400",children:[o.questions_count||0," Pertanyaan"]})]})]},`quiz-${o.id}`))]})]},a.id))}),i&&t.jsxs("div",{className:"border-t border-slate-100 bg-slate-50 p-4",children:[t.jsx("span",{className:"mb-1 block text-xs font-bold uppercase text-slate-400",children:"Selanjutnya"}),t.jsxs("button",{onClick:()=>n(i.video.id),className:"flex w-full items-center gap-3 text-left transition-colors hover:opacity-80",children:[t.jsx("div",{className:"flex h-10 w-16 items-center justify-center rounded-md bg-slate-200",children:t.jsx(x,{name:"play_circle",size:24,className:"text-slate-400"})}),t.jsxs("div",{className:"flex flex-col overflow-hidden",children:[t.jsx("span",{className:"truncate text-sm font-bold text-slate-800",children:i.video.title}),t.jsx("span",{className:"text-xs text-slate-500",children:i.moduleTitle})]})]})]})]})}function nt({video:s,resources:e,navigation:r,onNavigate:n}){return t.jsx("div",{className:"flex flex-col gap-6",children:t.jsxs("div",{className:"mb-10 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:col-span-2",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Tentang Video Ini"}),t.jsx("p",{className:"leading-relaxed text-slate-600",children:s.description||"Tidak ada deskripsi untuk video ini."})]}),t.jsx(it,{resources:e})]})})}function it({resources:s}){return s.length===0?t.jsxs("div",{className:"shadow-card h-fit rounded-2xl border border-slate-100 bg-white p-5",children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-bold text-slate-900",children:[t.jsx("span",{className:"text-primary",children:t.jsx(x,{name:"folder_open",size:24})}),"Resource Video"]}),t.jsx("p",{className:"text-sm text-slate-500",children:"Tidak ada resource untuk video ini."})]}):t.jsxs("div",{className:"shadow-card h-fit rounded-2xl border border-slate-100 bg-white p-5",children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-bold text-slate-900",children:[t.jsx("span",{className:"text-primary",children:t.jsx(x,{name:"folder_open",size:24})}),"Resource Video"]}),t.jsx("div",{className:"flex flex-col gap-3",children:s.map(e=>{const r=st(e.file_type),n=rt(e.file_type);return t.jsxs("a",{className:"group flex items-center justify-between rounded-xl bg-slate-50 p-3 transition-colors hover:bg-primary-light",href:e.file_url,target:"_blank",rel:"noopener noreferrer",download:!0,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded ${r.bg} ${r.text}`,children:t.jsx(x,{name:n,size:18})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-slate-700 group-hover:text-primary",children:e.title}),t.jsx("span",{className:"text-xs text-slate-400",children:e.formatted_size||ot(e.file_size)})]})]}),t.jsx("span",{className:"text-slate-400 group-hover:text-primary",children:t.jsx(x,{name:"download",size:20})})]},e.id)})})]})}function ot(s){if(!s)return"0 KB";const e=["B","KB","MB","GB"];let r=0,n=s;for(;n>=1024&&r<e.length-1;)n/=1024,r++;return`${n.toFixed(1)} ${e[r]}`}function lt({mentors:s}){return s.length===0?null:t.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-6 shadow-card",children:[t.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary-light",children:t.jsx(x,{name:"school",size:24,className:"text-primary"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Mentor Kelas"}),t.jsxs("p",{className:"text-sm text-slate-500",children:[s.length," mentor ",s.length>1?"siap membimbing Anda":"membimbing kelas ini"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.map(e=>t.jsx(ct,{mentor:e},e.id))})]})}function ct({mentor:s}){return t.jsxs("div",{className:"group flex flex-col items-center rounded-xl border border-slate-100 bg-gradient-to-b from-slate-50 to-white p-5 transition-all hover:border-primary/20 hover:shadow-md",children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx("div",{className:"h-20 w-20 rounded-full border-2 border-white bg-cover bg-center bg-slate-200 shadow-md ring-2 ring-primary/10 transition-all group-hover:ring-primary/30",style:{backgroundImage:s.avatar_url?`url('${s.avatar_url}')`:void 0},children:!s.avatar_url&&t.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full bg-gradient-to-br from-primary/20 to-primary/10 text-primary",children:t.jsx(x,{name:"person",size:36})})}),t.jsx("div",{className:"absolute bottom-1 right-1 h-4 w-4 rounded-full border-2 border-white bg-green-500"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{className:"font-bold text-slate-900 group-hover:text-primary",children:s.name}),s.headline&&t.jsx("p",{className:"mt-1 text-sm text-slate-500",children:s.headline})]}),t.jsx("div",{className:"mt-3 flex items-center gap-2",children:t.jsxs("span",{className:"rounded-full bg-amber-100 px-2.5 py-1 text-xs font-semibold text-amber-700",children:[t.jsx(x,{name:"star",size:12,className:"mr-1 inline"}),"Mentor"]})}),s.bio&&t.jsx("p",{className:"mt-3 line-clamp-2 text-center text-xs leading-relaxed text-slate-500",children:s.bio})]})}function ut({note:s,onSave:e,onUpdate:r}){const[n,c]=b.useState(!1),[i,l]=b.useState(s?.content||""),[p,d]=b.useState(!1),a=!!s,u=i!==(s?.content||""),o=async()=>{if(i.trim()){d(!0);try{a&&s?await r(s.id,i):await e(i)}catch(w){console.error("Failed to save note:",w)}finally{d(!1)}}},h=()=>{l(s?.content||""),c(!1)};return t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-card",children:[t.jsxs("button",{onClick:()=>c(!n),className:"flex w-full items-center justify-between p-4 transition-colors hover:bg-slate-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-100",children:t.jsx(x,{name:"edit_note",size:24,className:"text-amber-600"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"font-semibold text-slate-900",children:"Catatan Video"}),t.jsx("p",{className:"text-sm text-slate-500",children:a?"Anda memiliki catatan untuk video ini":"Tambahkan catatan untuk video ini"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[a&&t.jsx("span",{className:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Tersimpan"}),t.jsx(x,{name:n?"expand_less":"expand_more",size:24,className:"text-slate-400"})]})]}),n&&t.jsxs("div",{className:"border-t border-slate-100 p-4",children:[t.jsx("textarea",{value:i,onChange:w=>l(w.target.value),placeholder:"Tulis catatan Anda di sini... Anda bisa mencatat poin-poin penting dari video ini.",className:"min-h-[150px] w-full resize-none rounded-xl border border-slate-200 p-4 text-slate-700 placeholder-slate-400 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("span",{className:"text-xs text-slate-400",children:[i.length," karakter"]}),a&&s?.updated_at&&t.jsxs("span",{className:"text-xs text-slate-400",children:["Terakhir diperbarui:"," ",new Date(s.updated_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-end gap-3",children:[t.jsx("button",{onClick:h,className:"rounded-md px-4 py-2 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-100",children:"Batal"}),t.jsx("button",{onClick:o,disabled:!i.trim()||!u||p,className:"flex items-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-50",children:p?t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"refresh",size:16,className:"animate-spin"}),"Menyimpan..."]}):t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"save",size:16}),a?"Perbarui Catatan":"Simpan Catatan"]})})]})]})]})}var fe={exports:{}},he,Ee;function dt(){if(Ee)return he;Ee=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return he=s,he}var pe,Te;function ft(){if(Te)return pe;Te=1;var s=dt();function e(){}function r(){}return r.resetWarningCache=e,pe=function(){function n(l,p,d,a,u,o){if(o!==s){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function c(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:c,element:n,elementType:n,instanceOf:c,node:n,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},pe}var Re;function ht(){return Re||(Re=1,fe.exports=ft()()),fe.exports}var pt=ht();const C=we(pt);var me,Ae;function mt(){return Ae||(Ae=1,me=function s(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,c,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(c=n;c--!==0;)if(!s(e[c],r[c]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(c=n;c--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[c]))return!1;for(c=n;c--!==0;){var l=i[c];if(!s(e[l],r[l]))return!1}return!0}return e!==e&&r!==r}),me}var xt=mt();const gt=we(xt);var G={exports:{}},xe,Ie;function yt(){if(Ie)return xe;Ie=1;var s;return s=function(){var e={},r={};return e.on=function(n,c){var i={name:n,handler:c};return r[n]=r[n]||[],r[n].unshift(i),i},e.off=function(n){var c=r[n.name].indexOf(n);c!==-1&&r[n.name].splice(c,1)},e.trigger=function(n,c){var i=r[n],l;if(i)for(l=i.length;l--;)i[l].handler(c)},e},xe=s,xe}var H={exports:{}},ge,Oe;function vt(){if(Oe)return ge;Oe=1,ge=function(c,i,l){var p=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof i=="function"&&(l=i,i={}),i=i||{},l=l||function(){},d.type=i.type||"text/javascript",d.charset=i.charset||"utf8",d.async="async"in i?!!i.async:!0,d.src=c,i.attrs&&s(d,i.attrs),i.text&&(d.text=""+i.text);var a="onload"in d?e:r;a(d,l),d.onload||e(d,l),p.appendChild(d)};function s(n,c){for(var i in c)n.setAttribute(i,c[i])}function e(n,c){n.onload=function(){this.onerror=this.onload=null,c(null,n)},n.onerror=function(){this.onerror=this.onload=null,c(new Error("Failed to load "+this.src),n)}}function r(n,c){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,c(null,n))}}return ge}var ze;function bt(){return ze||(ze=1,(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var r=vt(),n=c(r);function c(i){return i&&i.__esModule?i:{default:i}}e.default=function(i){var l=new Promise(function(p){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){p(window.YT);return}else{var d=window.location.protocol==="http:"?"http:":"https:";(0,n.default)(d+"//www.youtube.com/iframe_api",function(u){u&&i.trigger("error",u)})}var a=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){a&&a(),p(window.YT)}});return l},s.exports=e.default})(H,H.exports)),H.exports}var J={exports:{}},X={exports:{}},Z={exports:{}},ye,Me;function wt(){if(Me)return ye;Me=1;var s=1e3,e=s*60,r=e*60,n=r*24,c=n*365.25;ye=function(a,u){u=u||{};var o=typeof a;if(o==="string"&&a.length>0)return i(a);if(o==="number"&&isNaN(a)===!1)return u.long?p(a):l(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function i(a){if(a=String(a),!(a.length>100)){var u=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(u){var o=parseFloat(u[1]),h=(u[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return o*c;case"days":case"day":case"d":return o*n;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*e;case"seconds":case"second":case"secs":case"sec":case"s":return o*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function l(a){return a>=n?Math.round(a/n)+"d":a>=r?Math.round(a/r)+"h":a>=e?Math.round(a/e)+"m":a>=s?Math.round(a/s)+"s":a+"ms"}function p(a){return d(a,n,"day")||d(a,r,"hour")||d(a,e,"minute")||d(a,s,"second")||a+" ms"}function d(a,u,o){if(!(a<u))return a<u*1.5?Math.floor(a/u)+" "+o:Math.ceil(a/u)+" "+o+"s"}return ye}var De;function jt(){return De||(De=1,(function(s,e){e=s.exports=c.debug=c.default=c,e.coerce=d,e.disable=l,e.enable=i,e.enabled=p,e.humanize=wt(),e.names=[],e.skips=[],e.formatters={};var r;function n(a){var u=0,o;for(o in a)u=(u<<5)-u+a.charCodeAt(o),u|=0;return e.colors[Math.abs(u)%e.colors.length]}function c(a){function u(){if(u.enabled){var o=u,h=+new Date,w=h-(r||h);o.diff=w,o.prev=r,o.curr=h,r=h;for(var m=new Array(arguments.length),S=0;S<m.length;S++)m[S]=arguments[S];m[0]=e.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var P=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(g,j){if(g==="%%")return g;P++;var N=e.formatters[j];if(typeof N=="function"){var z=m[P];g=N.call(o,z),m.splice(P,1),P--}return g}),e.formatArgs.call(o,m);var E=u.log||e.log||console.log.bind(console);E.apply(o,m)}}return u.namespace=a,u.enabled=e.enabled(a),u.useColors=e.useColors(),u.color=n(a),typeof e.init=="function"&&e.init(u),u}function i(a){e.save(a),e.names=[],e.skips=[];for(var u=(typeof a=="string"?a:"").split(/[\s,]+/),o=u.length,h=0;h<o;h++)u[h]&&(a=u[h].replace(/\*/g,".*?"),a[0]==="-"?e.skips.push(new RegExp("^"+a.substr(1)+"$")):e.names.push(new RegExp("^"+a+"$")))}function l(){e.enable("")}function p(a){var u,o;for(u=0,o=e.skips.length;u<o;u++)if(e.skips[u].test(a))return!1;for(u=0,o=e.names.length;u<o;u++)if(e.names[u].test(a))return!0;return!1}function d(a){return a instanceof Error?a.stack||a.message:a}})(Z,Z.exports)),Z.exports}var Ve;function Nt(){return Ve||(Ve=1,(function(s,e){var r={};e=s.exports=jt(),e.log=i,e.formatArgs=c,e.save=l,e.load=p,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(a){try{return JSON.stringify(a)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function c(a){var u=this.useColors;if(a[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+a[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var o="color: "+this.color;a.splice(1,0,o,"color: inherit");var h=0,w=0;a[0].replace(/%[a-zA-Z%]/g,function(m){m!=="%%"&&(h++,m==="%c"&&(w=h))}),a.splice(w,0,o)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(a){try{a==null?e.storage.removeItem("debug"):e.storage.debug=a}catch{}}function p(){var a;try{a=e.storage.debug}catch{}return!a&&typeof process<"u"&&"env"in process&&(a=r.DEBUG),a}e.enable(p());function d(){try{return window.localStorage}catch{}}})(X,X.exports)),X.exports}var $={exports:{}},Fe;function Pt(){return Fe||(Fe=1,(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],s.exports=e.default})($,$.exports)),$.exports}var ee={exports:{}},qe;function _t(){return qe||(qe=1,(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],s.exports=e.default})(ee,ee.exports)),ee.exports}var te={exports:{}},re={exports:{}},Qe;function St(){return Qe||(Qe=1,(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},s.exports=e.default})(re,re.exports)),re.exports}var Le;function Ct(){return Le||(Le=1,(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var r=St(),n=c(r);function c(i){return i&&i.__esModule?i:{default:i}}e.default={pauseVideo:{acceptableStates:[n.default.ENDED,n.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[n.default.ENDED,n.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[n.default.ENDED,n.default.PLAYING,n.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},s.exports=e.default})(te,te.exports)),te.exports}var Ye;function kt(){return Ye||(Ye=1,(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Nt(),n=u(r),c=Pt(),i=u(c),l=_t(),p=u(l),d=Ct(),a=u(d);function u(w){return w&&w.__esModule?w:{default:w}}var o=(0,n.default)("youtube-player"),h={};h.proxyEvents=function(w){var m={},S=function(M){var v="on"+M.slice(0,1).toUpperCase()+M.slice(1);m[v]=function(I){o('event "%s"',v,I),w.trigger(M,I)}},P=!0,E=!1,g=void 0;try{for(var j=p.default[Symbol.iterator](),N;!(P=(N=j.next()).done);P=!0){var z=N.value;S(z)}}catch(F){E=!0,g=F}finally{try{!P&&j.return&&j.return()}finally{if(E)throw g}}return m},h.promisifyPlayer=function(w){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},P=function(v){m&&a.default[v]?S[v]=function(){for(var I=arguments.length,T=Array(I),R=0;R<I;R++)T[R]=arguments[R];return w.then(function(A){var k=a.default[v],O=A.getPlayerState(),B=A[v].apply(A,T);return k.stateChangeRequired||Array.isArray(k.acceptableStates)&&k.acceptableStates.indexOf(O)===-1?new Promise(function(Q){var oe=function L(){var le=A.getPlayerState(),K=void 0;typeof k.timeout=="number"&&(K=setTimeout(function(){A.removeEventListener("onStateChange",L),Q()},k.timeout)),Array.isArray(k.acceptableStates)&&k.acceptableStates.indexOf(le)!==-1&&(A.removeEventListener("onStateChange",L),clearTimeout(K),Q())};A.addEventListener("onStateChange",oe)}).then(function(){return B}):B})}:S[v]=function(){for(var I=arguments.length,T=Array(I),R=0;R<I;R++)T[R]=arguments[R];return w.then(function(A){return A[v].apply(A,T)})}},E=!0,g=!1,j=void 0;try{for(var N=i.default[Symbol.iterator](),z;!(E=(z=N.next()).done);E=!0){var F=z.value;P(F)}}catch(M){g=!0,j=M}finally{try{!E&&N.return&&N.return()}finally{if(g)throw j}}return S},e.default=h,s.exports=e.default})(J,J.exports)),J.exports}var Ue;function Et(){return Ue||(Ue=1,(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n=yt(),c=a(n),i=bt(),l=a(i),p=kt(),d=a(p);function a(o){return o&&o.__esModule?o:{default:o}}var u=void 0;e.default=function(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=(0,c.default)();if(u||(u=(0,l.default)(m)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof o=="string"&&!document.getElementById(o))throw new Error('Element "'+o+'" does not exist.');h.events=d.default.proxyEvents(m);var S=new Promise(function(E){if((typeof o>"u"?"undefined":r(o))==="object"&&o.playVideo instanceof Function){var g=o;E(g)}else u.then(function(j){var N=new j.Player(o,h);return m.on("ready",function(){E(N)}),null})}),P=d.default.promisifyPlayer(S,w);return P.on=m.on,P.off=m.off,P},s.exports=e.default})(G,G.exports)),G.exports}var Tt=Et();const Rt=we(Tt);var At=Object.defineProperty,It=Object.defineProperties,Ot=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,zt=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,Ke=(s,e,r)=>e in s?At(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,ve=(s,e)=>{for(var r in e||(e={}))zt.call(e,r)&&Ke(s,r,e[r]);if(Be)for(var r of Be(e))Mt.call(e,r)&&Ke(s,r,e[r]);return s},be=(s,e)=>It(s,Ot(e)),Dt=(s,e,r)=>new Promise((n,c)=>{var i=d=>{try{p(r.next(d))}catch(a){c(a)}},l=d=>{try{p(r.throw(d))}catch(a){c(a)}},p=d=>d.done?n(d.value):Promise.resolve(d.value).then(i,l);p((r=r.apply(s,e)).next())});function Vt(s,e){var r,n;if(s.videoId!==e.videoId)return!0;const c=((r=s.opts)==null?void 0:r.playerVars)||{},i=((n=e.opts)==null?void 0:n.playerVars)||{};return c.start!==i.start||c.end!==i.end}function We(s={}){return be(ve({},s),{height:0,width:0,playerVars:be(ve({},s.playerVars),{autoplay:0,start:0,end:0})})}function Ft(s,e){return s.videoId!==e.videoId||!gt(We(s.opts),We(e.opts))}function qt(s,e){var r,n,c,i;return s.id!==e.id||s.className!==e.className||((r=s.opts)==null?void 0:r.width)!==((n=e.opts)==null?void 0:n.width)||((c=s.opts)==null?void 0:c.height)!==((i=e.opts)==null?void 0:i.height)||s.iframeClassName!==e.iframeClassName||s.title!==e.title}var Qt={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Lt={videoId:C.string,id:C.string,className:C.string,iframeClassName:C.string,style:C.object,title:C.string,loading:C.oneOf(["lazy","eager"]),opts:C.objectOf(C.any),onReady:C.func,onError:C.func,onPlay:C.func,onPause:C.func,onEnd:C.func,onStateChange:C.func,onPlaybackRateChange:C.func,onPlaybackQualityChange:C.func},ne=class extends ue.Component{constructor(s){super(s),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var r,n;return(n=(r=this.props).onReady)==null?void 0:n.call(r,e)},this.onPlayerError=e=>{var r,n;return(n=(r=this.props).onError)==null?void 0:n.call(r,e)},this.onPlayerStateChange=e=>{var r,n,c,i,l,p,d,a;switch((n=(r=this.props).onStateChange)==null||n.call(r,e),e.data){case ne.PlayerState.ENDED:(i=(c=this.props).onEnd)==null||i.call(c,e);break;case ne.PlayerState.PLAYING:(p=(l=this.props).onPlay)==null||p.call(l,e);break;case ne.PlayerState.PAUSED:(a=(d=this.props).onPause)==null||a.call(d,e);break}},this.onPlayerPlaybackRateChange=e=>{var r,n;return(n=(r=this.props).onPlaybackRateChange)==null?void 0:n.call(r,e)},this.onPlayerPlaybackQualityChange=e=>{var r,n;return(n=(r=this.props).onPlaybackQualityChange)==null?void 0:n.call(r,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=be(ve({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Rt(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(r=>{this.props.title&&r.setAttribute("title",this.props.title),this.props.loading&&r.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(r=>{this.props.id?r.setAttribute("id",this.props.id):r.removeAttribute("id"),this.props.iframeClassName?r.setAttribute("class",this.props.iframeClassName):r.removeAttribute("class"),this.props.opts&&this.props.opts.width?r.setAttribute("width",this.props.opts.width.toString()):r.removeAttribute("width"),this.props.opts&&this.props.opts.height?r.setAttribute("height",this.props.opts.height.toString()):r.removeAttribute("height"),this.props.title?r.setAttribute("title",this.props.title):r.setAttribute("title","YouTube video player"),this.props.loading?r.setAttribute("loading",this.props.loading):r.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,r,n,c;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let i=!1;const l={videoId:this.props.videoId};if((r=this.props.opts)!=null&&r.playerVars&&(i=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(l.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(l.endSeconds=this.props.opts.playerVars.end)),i){(n=this.internalPlayer)==null||n.loadVideoById(l);return}(c=this.internalPlayer)==null||c.cueVideoById(l)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(s){return Dt(this,null,function*(){qt(s,this.props)&&this.updatePlayer(),Ft(s,this.props)&&(yield this.resetPlayer()),Vt(s,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ue.createElement("div",{className:this.props.className,style:this.props.style},ue.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},ie=ne;ie.propTypes=Lt;ie.defaultProps=Qt;ie.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Yt=ie;const V={auto:"Auto",highres:"4K+",hd2160:"2160p (4K)",hd1440:"1440p",hd1080:"1080p",hd720:"720p",large:"480p",medium:"360p",small:"240p",tiny:"144p",default:"Default"},se=["highres","hd2160","hd1440","hd1080","hd720","large","medium","small","tiny"];function Ut({videoId:s,initialTime:e=0,onPlay:r,onPause:n,onEnd:c,onProgress:i}){const l=b.useRef(null),p=b.useRef(null),[d,a]=b.useState(!1),[u,o]=b.useState(e),[h,w]=b.useState(0),[m,S]=b.useState(0),[P,E]=b.useState(!1),[g,j]=b.useState(!1),[N,z]=b.useState(!1),[F,M]=b.useState([]),[v,I]=b.useState("auto"),[T,R]=b.useState(""),A=b.useRef(!1),k=b.useRef(null),O=b.useRef(null),B={width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,disablekb:0,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,playsinline:1,origin:window.location.origin,enablejsapi:1}},Q=f=>{const y=Math.floor(f/60),_=Math.floor(f%60);return`${y.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`};b.useEffect(()=>{const f=()=>{j(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",f),()=>{document.removeEventListener("fullscreenchange",f)}},[]),b.useEffect(()=>()=>{k.current&&clearInterval(k.current),O.current&&clearInterval(O.current)},[]);const oe=b.useCallback(()=>{O.current&&clearInterval(O.current),O.current=setInterval(()=>{if(l.current){const f=l.current.getPlaybackQuality();f&&R(f)}},1e3)},[]),L=()=>{O.current&&(clearInterval(O.current),O.current=null)},le=f=>{l.current=f.target,w(f.target.getDuration()),E(!0),e>0&&!A.current&&(f.target.seekTo(e,!0),A.current=!0);const y=f.target.getAvailableQualityLevels();if(y&&y.length>0){const _=y.sort((q,ce)=>{const W=se.indexOf(q),Y=se.indexOf(ce);return W===-1?1:Y===-1?-1:W-Y});M(_);const D=f.target.getPlaybackQuality();R(D||"")}},K=b.useCallback(()=>{k.current&&clearInterval(k.current),k.current=setInterval(()=>{if(l.current){const f=l.current.getCurrentTime(),y=l.current.getDuration();o(f);const _=f/y*100;S(_),i?.(_,f)}},500)},[i]),je=()=>{k.current&&(clearInterval(k.current),k.current=null)},Ge=f=>{const y=f.data;if(y===1){if(a(!0),K(),oe(),r?.(),l.current){const _=l.current.getAvailableQualityLevels();if(_&&_.length>0){const q=_.sort((ce,W)=>{const Y=se.indexOf(ce),ke=se.indexOf(W);return Y===-1?1:ke===-1?-1:Y-ke});M(q)}v!=="auto"&&l.current.setPlaybackQuality(v);const D=l.current.getPlaybackQuality();D&&R(D)}}else y===2?(a(!1),je(),L(),n?.()):y===0?(a(!1),je(),L(),c?.()):y===3&&l.current&&v!=="auto"&&l.current.setPlaybackQuality(v)},He=f=>{const y=f.data;y&&R(y)},Ne=()=>{l.current&&(d?l.current.pauseVideo():l.current.playVideo())},Pe=()=>{if(l.current){const f=l.current.getCurrentTime();l.current.seekTo(f+10,!0)}},_e=()=>{if(l.current){const f=l.current.getCurrentTime();l.current.seekTo(Math.max(0,f-10),!0)}},Je=f=>{if(l.current&&h>0){const y=f.currentTarget.getBoundingClientRect(),D=(f.clientX-y.left)/y.width,q=D*h;l.current.seekTo(q,!0),o(q),S(D*100)}},Xe=async()=>{if(p.current)try{document.fullscreenElement?await document.exitFullscreen():await p.current.requestFullscreen()}catch(f){console.error("Error attempting to toggle fullscreen:",f)}},Se=f=>{if(I(f),l.current)if(f==="auto"){const y=l.current.getCurrentTime(),_=d;l.current.loadVideoById({videoId:s,startSeconds:y}),_||setTimeout(()=>{l.current?.pauseVideo()},100)}else{l.current.setPlaybackQuality(f);const y=l.current.getCurrentTime(),_=d;l.current.loadVideoById({videoId:s,startSeconds:y,suggestedQuality:f}),setTimeout(()=>{l.current&&(l.current.setPlaybackQuality(f),_||l.current.pauseVideo())},500)}z(!1)},Ze=()=>v==="auto"?T&&V[T]?`Auto (${V[T]})`:"Auto":V[v]||v,$e=()=>{if(v==="auto"){if(T){const y=V[T];if(y){const _=y.match(/(\d+p?)/);return _?_[1]:"Auto"}}return"Auto"}const f=V[v];if(f){const y=f.match(/(\d+p?)/);return y?y[1]:f}return v},Ce=f=>(f.preventDefault(),!1);return t.jsxs("div",{ref:p,className:`video-player-container group relative aspect-video w-full overflow-hidden rounded-md bg-gradient-to-br from-gray-900 to-black shadow-2xl shadow-primary/10 ring-1 ring-white/10 ${g?"rounded-none":""}`,onContextMenu:Ce,style:{userSelect:"none"},children:[t.jsx("div",{className:"absolute inset-0",style:{pointerEvents:P?"auto":"none"},children:t.jsx(Yt,{videoId:s,opts:B,onReady:le,onStateChange:Ge,onPlaybackQualityChange:He,className:"absolute inset-0 h-full w-full",iframeClassName:"absolute inset-0 h-full w-full"})}),!P&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"size-12 animate-spin rounded-full border-4 border-primary/30 border-t-primary"}),t.jsx("span",{className:"text-sm font-medium text-white/70",children:"Memuat video..."})]})}),t.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col justify-end bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:[!g&&t.jsxs("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center gap-6",children:[t.jsx("button",{onClick:_e,className:"pointer-events-auto flex size-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all hover:scale-110 hover:bg-white/20",title:"Mundur 10 detik",children:t.jsx(x,{name:"replay_10",size:28})}),t.jsx("button",{onClick:Ne,className:"pointer-events-auto flex size-16 items-center justify-center rounded-full bg-primary/90 text-white shadow-lg shadow-primary/30 transition-all hover:scale-110 hover:bg-primary",title:d?"Pause":"Play",children:t.jsx(x,{name:d?"pause":"play_arrow",size:36})}),t.jsx("button",{onClick:Pe,className:"pointer-events-auto flex size-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all hover:scale-110 hover:bg-white/20",title:"Maju 10 detik",children:t.jsx(x,{name:"forward_10",size:28})})]}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-3 px-4 pb-4 pt-8 sm:px-6",children:[t.jsxs("div",{className:"group/progress relative h-1.5 w-full cursor-pointer overflow-hidden rounded-full bg-white/20 transition-all hover:h-2.5",onClick:Je,children:[t.jsx("div",{className:"absolute h-full w-full bg-white/10"}),t.jsx("div",{className:"absolute h-full rounded-full bg-primary/50 blur-sm",style:{width:`${m}%`}}),t.jsx("div",{className:"relative h-full rounded-full bg-gradient-to-r from-primary via-primary to-emerald-400 transition-all",style:{width:`${m}%`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})}),t.jsx("div",{className:"absolute top-1/2 size-4 -translate-y-1/2 rounded-full border-2 border-white bg-primary opacity-0 shadow-lg transition-opacity group-hover/progress:opacity-100",style:{left:`calc(${m}% - 8px)`}})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:Ne,className:"flex size-9 items-center justify-center rounded-md text-white transition-all hover:bg-white/10",children:t.jsx(x,{name:d?"pause":"play_arrow",size:24})}),t.jsx("button",{onClick:_e,className:"hidden size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-white sm:flex",children:t.jsx(x,{name:"replay_10",size:20})}),t.jsx("button",{onClick:Pe,className:"hidden size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-white sm:flex",children:t.jsx(x,{name:"forward_10",size:20})}),t.jsxs("span",{className:"text-sm font-medium text-white",children:[t.jsx("span",{className:"text-primary",children:Q(u)}),t.jsx("span",{className:"mx-1.5 text-white/50",children:"/"}),t.jsx("span",{className:"text-white/70",children:Q(h)})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>z(!N),className:"flex items-center gap-1.5 rounded-md bg-white/10 px-2.5 py-1.5 text-xs font-bold text-white transition-all hover:bg-white/20",title:`Kualitas Video: ${Ze()}`,children:[t.jsx(x,{name:"hd",size:16}),t.jsx("span",{children:$e()}),t.jsx(x,{name:N?"expand_less":"expand_more",size:16})]}),N&&t.jsxs("div",{className:"absolute bottom-full right-0 mb-2 min-w-[160px] overflow-hidden rounded-md border border-white/10 bg-gray-900/95 shadow-xl backdrop-blur-sm",children:[t.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-white/60",children:"Kualitas Video"}),t.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[t.jsxs("button",{onClick:()=>Se("auto"),className:`flex w-full items-center justify-between px-3 py-2 text-sm transition-colors hover:bg-white/10 ${v==="auto"?"bg-primary/20 font-semibold text-primary":"text-white"}`,children:[t.jsx("span",{children:"Auto"}),t.jsxs("div",{className:"flex items-center gap-2",children:[v==="auto"&&T&&t.jsxs("span",{className:"text-xs text-white/50",children:["(",V[T]||T,")"]}),v==="auto"&&t.jsx(x,{name:"check",size:16})]})]}),t.jsx("div",{className:"my-1 border-t border-white/10"}),F.filter(f=>f!=="auto"&&f!=="default").map(f=>t.jsxs("button",{onClick:()=>Se(f),className:`flex w-full items-center justify-between px-3 py-2 text-sm transition-colors hover:bg-white/10 ${v===f?"bg-primary/20 font-semibold text-primary":"text-white"}`,children:[t.jsx("span",{children:V[f]||f}),t.jsxs("div",{className:"flex items-center gap-2",children:[T===f&&v!==f&&t.jsx("span",{className:"text-xs text-white/50",children:"(current)"}),v===f&&t.jsx(x,{name:"check",size:16})]})]},f))]})]})]}),t.jsx("button",{onClick:Xe,className:"flex size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-primary",title:g?"Keluar Fullscreen":"Fullscreen",children:t.jsx(x,{name:g?"fullscreen_exit":"fullscreen",size:24})})]})]})]})]}),t.jsx("div",{className:"pointer-events-none absolute inset-0 select-none",onContextMenu:Ce})]})}function Gt({classData:s,currentVideo:e,progressStats:r,navigation:n}){const[c,i]=b.useState(e.notes[0]||null),[l,p]=b.useState(0),[d,a]=b.useState(!1),o=(g=>{const j=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/\s]{11})/,N=g?.match(j);return N?N[1]:""})(e.video.youtube_url||""),h=b.useCallback(async(g,j)=>{if(!(Math.abs(j-l)<10))try{await U.post(`/user/study/video/${e.video.id}/progress`,{last_time_sec:Math.floor(j)}),p(j)}catch(N){console.error("Failed to save progress:",N)}},[e.video.id,l]),w=async()=>{try{await U.post(`/user/study/video/${e.video.id}/complete`),ae.reload({only:["progressStats","currentVideo"]})}catch(g){console.error("Failed to mark video as completed:",g)}},m=async g=>{try{const j=await U.post(`/user/study/video/${e.video.id}/notes`,{content:g});i(j.data.note)}catch(j){throw console.error("Failed to add note:",j),j}},S=async(g,j)=>{try{const N=await U.put(`/user/study/notes/${g}`,{content:j});i(N.data.note)}catch(N){throw console.error("Failed to update note:",N),N}},P=g=>{ae.visit(`/user/study/${s.id}/video/${g}`)},E=async()=>{if(!d&&!e.progress?.is_completed){a(!0);try{await U.post(`/user/study/video/${e.video.id}/complete`),ae.reload({only:["progressStats","currentVideo"]})}catch(g){console.error("Failed to complete video:",g)}finally{a(!1)}}};return t.jsxs(tt,{rightSidebar:t.jsx(at,{classData:s,currentVideoId:e.video.id,progressStats:r,onVideoSelect:P}),children:[t.jsx(et,{title:`${e.video.title} - ${s.title}`}),t.jsxs("div",{className:"mt-6 flex flex-col gap-4 sm:mt-8 lg:mt-12 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h1",{className:"text-xl font-extrabold tracking-tight text-slate-900 sm:text-2xl lg:text-3xl",children:s.title}),t.jsx("p",{className:"text-sm font-normal text-slate-500 sm:text-base lg:text-lg",children:e.video.title})]}),t.jsx("button",{onClick:E,disabled:d||e.progress?.is_completed,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:from-green-600 hover:to-emerald-700 hover:shadow-lg disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto sm:px-5",children:d?t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"progress_activity",size:18,className:"animate-spin"}),"Memproses..."]}):e.progress?.is_completed?t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"check_circle",size:18}),"Video Selesai"]}):t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"task_alt",size:18}),"Selesaikan Video"]})})]}),t.jsx(Ut,{videoId:o,initialTime:e.progress?.last_time_sec||0,onProgress:h,onEnd:w}),t.jsx(ut,{note:c,onSave:m,onUpdate:S}),t.jsx(nt,{video:e.video,resources:e.resources,navigation:n,onNavigate:P}),t.jsx(lt,{mentors:s.mentors})]})}export{Gt as default};
