import{j as e,a as B,r as w,g as we,R as ue,b as U,H as et}from"./app-BMQkHA4d.js";import{I as g}from"./Icon-CFmQEsGQ.js";import{U as tt}from"./UserDashboardLayout-BJwIG2lE.js";const de=r=>{if(!r||r<=0)return"0:00";const t=Math.floor(r/3600),s=Math.floor(r%3600/60),a=Math.floor(r%60);return t>0?`${t}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${s}:${a.toString().padStart(2,"0")}`},rt=r=>{switch(r?.toLowerCase()){case"pdf":return"picture_as_pdf";case"doc":case"docx":return"description";case"ppt":case"pptx":return"slideshow";case"xls":case"xlsx":return"table_chart";case"zip":case"rar":return"folder_zip";case"mp4":case"mov":case"avi":return"videocam";case"mp3":case"wav":return"audiotrack";case"jpg":case"jpeg":case"png":case"gif":return"image";default:return"insert_drive_file"}},st=r=>{switch(r?.toLowerCase()){case"pdf":return{bg:"bg-red-100",text:"text-red-500"};case"doc":case"docx":return{bg:"bg-blue-100",text:"text-blue-500"};case"ppt":case"pptx":return{bg:"bg-orange-100",text:"text-orange-500"};case"xls":case"xlsx":return{bg:"bg-green-100",text:"text-green-500"};case"zip":case"rar":return{bg:"bg-purple-100",text:"text-purple-500"};default:return{bg:"bg-slate-100",text:"text-slate-500"}}};function at({classData:r,currentVideoId:t,progressStats:s,onVideoSelect:a,certificateStatus:i}){(()=>{let o=!1;for(const m of r.modules)for(const h of m.videos){if(o)return{video:h,moduleTitle:m.title};h.id===t&&(o=!0)}return null})();const c=o=>o.progress?.[0]?.is_completed??!1,x=o=>o===t,f=o=>{B.visit(`/user/study/${r.id}/quiz/${o}`)},n=()=>{B.visit(`/user/certificate/claim/${r.id}`)},u=o=>{const m=o.attempts?.[0];return m&&m.score>=80};return e.jsxs("aside",{className:"z-20 flex h-full w-full shrink-0 flex-col border-l border-slate-200 bg-white lg:w-[340px]",children:[e.jsxs("div",{className:"border-b border-slate-100 bg-white p-4 pt-6 sm:p-6",children:[e.jsx("h3",{className:"mb-1 text-lg font-bold text-slate-900",children:"Kurikulum Kelas"}),e.jsxs("div",{className:"mb-2 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-medium text-slate-500",children:[s.progress_percent,"% Selesai"]}),e.jsxs("span",{className:"font-bold text-primary",children:[s.completed_videos,"/",s.total_videos]})]}),e.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-100",children:e.jsx("div",{className:"h-2.5 rounded-full bg-primary transition-all duration-300",style:{width:`${s.progress_percent}%`}})})]}),e.jsx("div",{className:"custom-scrollbar flex-1 space-y-6 overflow-y-auto p-4",children:r.modules.map((o,m)=>e.jsxs("div",{children:[e.jsxs("h4",{className:"mb-3 px-2 text-xs font-bold uppercase tracking-wider text-slate-400",children:["Modul ",m+1,": ",o.title]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[o.videos.map(h=>{const p=c(h);return x(h.id)?e.jsxs("button",{className:"flex w-full scale-[1.02] transform items-start gap-3 rounded-xl bg-primary p-4 text-left text-white shadow-lg shadow-primary/30 transition-transform",children:[e.jsx("div",{className:"mt-0.5 flex h-6 w-6 shrink-0 animate-pulse items-center justify-center rounded-full bg-white/20 text-white",children:e.jsx(g,{name:"play_arrow",size:16})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-sm font-bold leading-snug",children:h.title}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-white/80",children:[e.jsx(g,{name:"schedule",size:14}),e.jsx("span",{className:"text-xs font-medium",children:de(h.duration_sec)})]})]})]},h.id):p?e.jsxs("button",{onClick:()=>a(h.id),className:"group flex w-full items-start gap-3 rounded-xl p-3 text-left transition-colors hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded-full bg-primary text-white",children:e.jsx(g,{name:"check",size:14,className:"font-bold"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-sm font-medium text-slate-500 line-through decoration-slate-400",children:h.title}),e.jsx("span",{className:"mt-1 block text-xs text-slate-400",children:de(h.duration_sec)})]})]},h.id):e.jsxs("button",{onClick:()=>a(h.id),className:"group flex w-full items-start gap-3 rounded-xl p-3 text-left transition-colors hover:bg-slate-50",children:[e.jsx("div",{className:"mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border-2 border-slate-300 text-slate-300",children:e.jsx(g,{name:"play_arrow",size:10,className:"font-bold"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-sm font-medium text-slate-600 transition-colors group-hover:text-primary",children:h.title}),e.jsx("span",{className:"mt-1 block text-xs text-slate-400",children:de(h.duration_sec)})]})]},h.id)}),o.quizzes?.map(h=>{const p=u(h),N=h.attempts&&h.attempts.length>0,_=h.attempts?.[0]?.score;return e.jsxs("button",{onClick:()=>f(h.id),className:`group flex w-full items-start gap-3 rounded-xl p-3 text-left transition-colors ${p?"hover:bg-green-50":N?"hover:bg-red-50":"hover:bg-amber-50"}`,children:[e.jsx("div",{className:`mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded-full ${p?"bg-green-500 text-white":N?"border-2 border-red-400 bg-red-100 text-red-400":"border-2 border-amber-400 text-amber-400"}`,children:e.jsx(g,{name:p?"check":"quiz",size:p?14:10,className:"font-bold"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:`text-sm font-medium transition-colors ${p?"text-green-600":N?"text-red-600 group-hover:text-red-700":"text-slate-600 group-hover:text-amber-600"}`,children:h.title}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-slate-400",children:[h.questions_count||0," ","Pertanyaan"]}),N&&e.jsxs("span",{className:`text-xs font-medium ${p?"text-green-500":"text-red-500"}`,children:["â€¢ Nilai: ",_]})]})]})]},`quiz-${h.id}`)})]})]},o.id))}),i?.is_eligible&&e.jsxs("div",{className:"border-t border-slate-100 bg-gradient-to-r from-amber-50 to-yellow-50 p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-amber-100",children:e.jsx(g,{name:"emoji_events",size:18,className:"text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-800",children:"Selamat! ðŸŽ‰"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Anda telah menyelesaikan kelas ini"})]})]}),e.jsxs("button",{onClick:n,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-yellow-500 px-4 py-3 font-bold text-white shadow-lg shadow-amber-500/30 transition-all hover:from-amber-600 hover:to-yellow-600 hover:shadow-amber-500/40",children:[e.jsx(g,{name:"workspace_premium",size:20}),"Klaim Sertifikat"]})]}),i&&!i.is_eligible&&e.jsxs("div",{className:"border-t border-slate-100 bg-slate-50 p-4",children:[e.jsx("p",{className:"mb-2 text-xs font-bold uppercase text-slate-400",children:"Syarat Sertifikat"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(g,{name:i.all_videos_completed?"check_circle":"radio_button_unchecked",size:16,className:i.all_videos_completed?"text-green-500":"text-slate-300"}),e.jsxs("span",{className:i.all_videos_completed?"text-green-600":"text-slate-500",children:["Video: ",i.completed_videos,"/",i.total_videos]})]}),i.total_quizzes>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(g,{name:i.all_quizzes_passed?"check_circle":"radio_button_unchecked",size:16,className:i.all_quizzes_passed?"text-green-500":"text-slate-300"}),e.jsxs("span",{className:i.all_quizzes_passed?"text-green-600":"text-slate-500",children:["Quiz lulus (min"," ",i.min_quiz_score,"):"," ",i.passed_quizzes,"/",i.total_quizzes]})]})]})]})]})}function nt({video:r,resources:t,navigation:s,onNavigate:a}){return e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs("div",{className:"mb-10 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:col-span-2",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Tentang Video Ini"}),e.jsx("p",{className:"leading-relaxed text-slate-600",children:r.description||"Tidak ada deskripsi untuk video ini."})]}),e.jsx(it,{resources:t})]})})}function it({resources:r}){return r.length===0?e.jsxs("div",{className:"shadow-card h-fit rounded-2xl border border-slate-100 bg-white p-5",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-bold text-slate-900",children:[e.jsx("span",{className:"text-primary",children:e.jsx(g,{name:"folder_open",size:24})}),"Resource Video"]}),e.jsx("p",{className:"text-sm text-slate-500",children:"Tidak ada resource untuk video ini."})]}):e.jsxs("div",{className:"shadow-card h-fit rounded-2xl border border-slate-100 bg-white p-5",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-bold text-slate-900",children:[e.jsx("span",{className:"text-primary",children:e.jsx(g,{name:"folder_open",size:24})}),"Resource Video"]}),e.jsx("div",{className:"flex flex-col gap-3",children:r.map(t=>{const s=st(t.file_type),a=rt(t.file_type);return e.jsxs("a",{className:"group flex items-center justify-between rounded-xl bg-slate-50 p-3 transition-colors hover:bg-primary-light",href:t.file_url,target:"_blank",rel:"noopener noreferrer",download:!0,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded ${s.bg} ${s.text}`,children:e.jsx(g,{name:a,size:18})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 group-hover:text-primary",children:t.title}),e.jsx("span",{className:"text-xs text-slate-400",children:t.formatted_size||lt(t.file_size)})]})]}),e.jsx("span",{className:"text-slate-400 group-hover:text-primary",children:e.jsx(g,{name:"download",size:20})})]},t.id)})})]})}function lt(r){if(!r)return"0 KB";const t=["B","KB","MB","GB"];let s=0,a=r;for(;a>=1024&&s<t.length-1;)a/=1024,s++;return`${a.toFixed(1)} ${t[s]}`}function ot({mentors:r}){return r.length===0?null:e.jsxs("div",{className:"shadow-card rounded-2xl border border-slate-100 bg-white p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary-light",children:e.jsx(g,{name:"school",size:24,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Mentor Kelas"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[r.length," mentor"," ",r.length>1?"siap membimbing Anda":"membimbing kelas ini"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map(t=>e.jsx(ct,{mentor:t},t.id))})]})}function ct({mentor:r}){return e.jsxs("div",{className:"group flex flex-col items-center rounded-xl border border-slate-100 bg-gradient-to-b from-slate-50 to-white p-5 transition-all hover:border-primary/20 hover:shadow-md",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"h-20 w-20 rounded-full border-2 border-white bg-slate-200 bg-cover bg-center shadow-md ring-2 ring-primary/10 transition-all group-hover:ring-primary/30",style:{backgroundImage:r.avatar_url?`url('${r.avatar_url}')`:void 0},children:!r.avatar_url&&e.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full bg-gradient-to-br from-primary/20 to-primary/10 text-primary",children:e.jsx(g,{name:"person",size:36})})}),e.jsx("div",{className:"absolute bottom-1 right-1 h-4 w-4 rounded-full border-2 border-white bg-green-500"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"font-bold text-slate-900 group-hover:text-primary",children:r.name}),r.headline&&e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:r.headline})]}),e.jsx("div",{className:"mt-3 flex items-center gap-2",children:e.jsxs("span",{className:"rounded-full bg-amber-100 px-2.5 py-1 text-xs font-semibold text-amber-700",children:[e.jsx(g,{name:"star",size:12,className:"mr-1 inline"}),"Mentor"]})}),r.bio&&e.jsx("p",{className:"mt-3 line-clamp-2 text-center text-xs leading-relaxed text-slate-500",children:r.bio})]})}function ut({note:r,onSave:t,onUpdate:s}){const[a,i]=w.useState(!1),[l,c]=w.useState(r?.content||""),[x,f]=w.useState(!1),n=!!r,u=l!==(r?.content||""),o=async()=>{if(l.trim()){f(!0);try{n&&r?await s(r.id,l):await t(l)}catch(h){console.error("Failed to save note:",h)}finally{f(!1)}}},m=()=>{c(r?.content||""),i(!1)};return e.jsxs("div",{className:"shadow-card rounded-2xl border border-slate-200 bg-white",children:[e.jsxs("button",{onClick:()=>i(!a),className:"flex w-full items-center justify-between p-4 transition-colors hover:bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-100",children:e.jsx(g,{name:"edit_note",size:24,className:"text-amber-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Catatan Video"}),e.jsx("p",{className:"text-sm text-slate-500",children:n?"Anda memiliki catatan untuk video ini":"Tambahkan catatan untuk video ini"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n&&e.jsx("span",{className:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Tersimpan"}),e.jsx(g,{name:a?"expand_less":"expand_more",size:24,className:"text-slate-400"})]})]}),a&&e.jsxs("div",{className:"border-t border-slate-100 p-4",children:[e.jsx("textarea",{value:l,onChange:h=>c(h.target.value),placeholder:"Tulis catatan Anda di sini... Anda bisa mencatat poin-poin penting dari video ini.",className:"min-h-[150px] w-full resize-none rounded-xl border border-slate-200 p-4 text-slate-700 placeholder-slate-400 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-slate-400",children:[l.length," karakter"]}),n&&r?.updated_at&&e.jsxs("span",{className:"text-xs text-slate-400",children:["Terakhir diperbarui:"," ",new Date(r.updated_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:m,className:"rounded-md px-4 py-2 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-100",children:"Batal"}),e.jsx("button",{onClick:o,disabled:!l.trim()||!u||x,className:"flex items-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-50",children:x?e.jsxs(e.Fragment,{children:[e.jsx(g,{name:"refresh",size:16,className:"animate-spin"}),"Menyimpan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{name:"save",size:16}),n?"Perbarui Catatan":"Simpan Catatan"]})})]})]})]})}var fe={exports:{}},he,Ee;function dt(){if(Ee)return he;Ee=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return he=r,he}var me,Te;function ft(){if(Te)return me;Te=1;var r=dt();function t(){}function s(){}return s.resetWarningCache=t,me=function(){function a(c,x,f,n,u,o){if(o!==r){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}a.isRequired=a;function i(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:t};return l.PropTypes=l,l},me}var Re;function ht(){return Re||(Re=1,fe.exports=ft()()),fe.exports}var mt=ht();const k=we(mt);var pe,Ae;function pt(){return Ae||(Ae=1,pe=function r(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var a,i,l;if(Array.isArray(t)){if(a=t.length,a!=s.length)return!1;for(i=a;i--!==0;)if(!r(t[i],s[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(l=Object.keys(t),a=l.length,a!==Object.keys(s).length)return!1;for(i=a;i--!==0;)if(!Object.prototype.hasOwnProperty.call(s,l[i]))return!1;for(i=a;i--!==0;){var c=l[i];if(!r(t[c],s[c]))return!1}return!0}return t!==t&&s!==s}),pe}var xt=pt();const gt=we(xt);var H={exports:{}},xe,Ie;function yt(){if(Ie)return xe;Ie=1;var r;return r=function(){var t={},s={};return t.on=function(a,i){var l={name:a,handler:i};return s[a]=s[a]||[],s[a].unshift(l),l},t.off=function(a){var i=s[a.name].indexOf(a);i!==-1&&s[a.name].splice(i,1)},t.trigger=function(a,i){var l=s[a],c;if(l)for(c=l.length;c--;)l[c].handler(i)},t},xe=r,xe}var J={exports:{}},ge,ze;function vt(){if(ze)return ge;ze=1,ge=function(i,l,c){var x=document.head||document.getElementsByTagName("head")[0],f=document.createElement("script");typeof l=="function"&&(c=l,l={}),l=l||{},c=c||function(){},f.type=l.type||"text/javascript",f.charset=l.charset||"utf8",f.async="async"in l?!!l.async:!0,f.src=i,l.attrs&&r(f,l.attrs),l.text&&(f.text=""+l.text);var n="onload"in f?t:s;n(f,c),f.onload||t(f,c),x.appendChild(f)};function r(a,i){for(var l in i)a.setAttribute(l,i[l])}function t(a,i){a.onload=function(){this.onerror=this.onload=null,i(null,a)},a.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),a)}}function s(a,i){a.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,a))}}return ge}var Oe;function bt(){return Oe||(Oe=1,(function(r,t){Object.defineProperty(t,"__esModule",{value:!0});var s=vt(),a=i(s);function i(l){return l&&l.__esModule?l:{default:l}}t.default=function(l){var c=new Promise(function(x){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){x(window.YT);return}else{var f=window.location.protocol==="http:"?"http:":"https:";(0,a.default)(f+"//www.youtube.com/iframe_api",function(u){u&&l.trigger("error",u)})}var n=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){n&&n(),x(window.YT)}});return c},r.exports=t.default})(J,J.exports)),J.exports}var X={exports:{}},Z={exports:{}},$={exports:{}},ye,Me;function wt(){if(Me)return ye;Me=1;var r=1e3,t=r*60,s=t*60,a=s*24,i=a*365.25;ye=function(n,u){u=u||{};var o=typeof n;if(o==="string"&&n.length>0)return l(n);if(o==="number"&&isNaN(n)===!1)return u.long?x(n):c(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function l(n){if(n=String(n),!(n.length>100)){var u=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(u){var o=parseFloat(u[1]),m=(u[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return o*i;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*s;case"minutes":case"minute":case"mins":case"min":case"m":return o*t;case"seconds":case"second":case"secs":case"sec":case"s":return o*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function c(n){return n>=a?Math.round(n/a)+"d":n>=s?Math.round(n/s)+"h":n>=t?Math.round(n/t)+"m":n>=r?Math.round(n/r)+"s":n+"ms"}function x(n){return f(n,a,"day")||f(n,s,"hour")||f(n,t,"minute")||f(n,r,"second")||n+" ms"}function f(n,u,o){if(!(n<u))return n<u*1.5?Math.floor(n/u)+" "+o:Math.ceil(n/u)+" "+o+"s"}return ye}var Ve;function jt(){return Ve||(Ve=1,(function(r,t){t=r.exports=i.debug=i.default=i,t.coerce=f,t.disable=c,t.enable=l,t.enabled=x,t.humanize=wt(),t.names=[],t.skips=[],t.formatters={};var s;function a(n){var u=0,o;for(o in n)u=(u<<5)-u+n.charCodeAt(o),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(n){function u(){if(u.enabled){var o=u,m=+new Date,h=m-(s||m);o.diff=h,o.prev=s,o.curr=m,s=m;for(var p=new Array(arguments.length),N=0;N<p.length;N++)p[N]=arguments[N];p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");var _=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,function(P,j){if(P==="%%")return P;_++;var y=t.formatters[j];if(typeof y=="function"){var S=p[_];P=y.call(o,S),p.splice(_,1),_--}return P}),t.formatArgs.call(o,p);var E=u.log||t.log||console.log.bind(console);E.apply(o,p)}}return u.namespace=n,u.enabled=t.enabled(n),u.useColors=t.useColors(),u.color=a(n),typeof t.init=="function"&&t.init(u),u}function l(n){t.save(n),t.names=[],t.skips=[];for(var u=(typeof n=="string"?n:"").split(/[\s,]+/),o=u.length,m=0;m<o;m++)u[m]&&(n=u[m].replace(/\*/g,".*?"),n[0]==="-"?t.skips.push(new RegExp("^"+n.substr(1)+"$")):t.names.push(new RegExp("^"+n+"$")))}function c(){t.enable("")}function x(n){var u,o;for(u=0,o=t.skips.length;u<o;u++)if(t.skips[u].test(n))return!1;for(u=0,o=t.names.length;u<o;u++)if(t.names[u].test(n))return!0;return!1}function f(n){return n instanceof Error?n.stack||n.message:n}})($,$.exports)),$.exports}var Fe;function Nt(){return Fe||(Fe=1,(function(r,t){var s={};t=r.exports=jt(),t.log=l,t.formatArgs=i,t.save=c,t.load=x,t.useColors=a,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:f(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function a(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(n){try{return JSON.stringify(n)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(n){var u=this.useColors;if(n[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+n[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var o="color: "+this.color;n.splice(1,0,o,"color: inherit");var m=0,h=0;n[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(m++,p==="%c"&&(h=m))}),n.splice(h,0,o)}}function l(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(n){try{n==null?t.storage.removeItem("debug"):t.storage.debug=n}catch{}}function x(){var n;try{n=t.storage.debug}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=s.DEBUG),n}t.enable(x());function f(){try{return window.localStorage}catch{}}})(Z,Z.exports)),Z.exports}var ee={exports:{}},qe;function _t(){return qe||(qe=1,(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],r.exports=t.default})(ee,ee.exports)),ee.exports}var te={exports:{}},De;function Pt(){return De||(De=1,(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],r.exports=t.default})(te,te.exports)),te.exports}var re={exports:{}},se={exports:{}},Qe;function St(){return Qe||(Qe=1,(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},r.exports=t.default})(se,se.exports)),se.exports}var Le;function Ct(){return Le||(Le=1,(function(r,t){Object.defineProperty(t,"__esModule",{value:!0});var s=St(),a=i(s);function i(l){return l&&l.__esModule?l:{default:l}}t.default={pauseVideo:{acceptableStates:[a.default.ENDED,a.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[a.default.ENDED,a.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[a.default.ENDED,a.default.PLAYING,a.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},r.exports=t.default})(re,re.exports)),re.exports}var Ye;function kt(){return Ye||(Ye=1,(function(r,t){Object.defineProperty(t,"__esModule",{value:!0});var s=Nt(),a=u(s),i=_t(),l=u(i),c=Pt(),x=u(c),f=Ct(),n=u(f);function u(h){return h&&h.__esModule?h:{default:h}}var o=(0,a.default)("youtube-player"),m={};m.proxyEvents=function(h){var p={},N=function(M){var b="on"+M.slice(0,1).toUpperCase()+M.slice(1);p[b]=function(z){o('event "%s"',b,z),h.trigger(M,z)}},_=!0,E=!1,P=void 0;try{for(var j=x.default[Symbol.iterator](),y;!(_=(y=j.next()).done);_=!0){var S=y.value;N(S)}}catch(q){E=!0,P=q}finally{try{!_&&j.return&&j.return()}finally{if(E)throw P}}return p},m.promisifyPlayer=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N={},_=function(b){p&&n.default[b]?N[b]=function(){for(var z=arguments.length,R=Array(z),A=0;A<z;A++)R[A]=arguments[A];return h.then(function(I){var T=n.default[b],O=I.getPlayerState(),K=I[b].apply(I,R);return T.stateChangeRequired||Array.isArray(T.acceptableStates)&&T.acceptableStates.indexOf(O)===-1?new Promise(function(Q){var le=function L(){var oe=I.getPlayerState(),W=void 0;typeof T.timeout=="number"&&(W=setTimeout(function(){I.removeEventListener("onStateChange",L),Q()},T.timeout)),Array.isArray(T.acceptableStates)&&T.acceptableStates.indexOf(oe)!==-1&&(I.removeEventListener("onStateChange",L),clearTimeout(W),Q())};I.addEventListener("onStateChange",le)}).then(function(){return K}):K})}:N[b]=function(){for(var z=arguments.length,R=Array(z),A=0;A<z;A++)R[A]=arguments[A];return h.then(function(I){return I[b].apply(I,R)})}},E=!0,P=!1,j=void 0;try{for(var y=l.default[Symbol.iterator](),S;!(E=(S=y.next()).done);E=!0){var q=S.value;_(q)}}catch(M){P=!0,j=M}finally{try{!E&&y.return&&y.return()}finally{if(P)throw j}}return N},t.default=m,r.exports=t.default})(X,X.exports)),X.exports}var Ue;function Et(){return Ue||(Ue=1,(function(r,t){Object.defineProperty(t,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},a=yt(),i=n(a),l=bt(),c=n(l),x=kt(),f=n(x);function n(o){return o&&o.__esModule?o:{default:o}}var u=void 0;t.default=function(o){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=(0,i.default)();if(u||(u=(0,c.default)(p)),m.events)throw new Error("Event handlers cannot be overwritten.");if(typeof o=="string"&&!document.getElementById(o))throw new Error('Element "'+o+'" does not exist.');m.events=f.default.proxyEvents(p);var N=new Promise(function(E){if((typeof o>"u"?"undefined":s(o))==="object"&&o.playVideo instanceof Function){var P=o;E(P)}else u.then(function(j){var y=new j.Player(o,m);return p.on("ready",function(){E(y)}),null})}),_=f.default.promisifyPlayer(N,h);return _.on=p.on,_.off=p.off,_},r.exports=t.default})(H,H.exports)),H.exports}var Tt=Et();const Rt=we(Tt);var At=Object.defineProperty,It=Object.defineProperties,zt=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,Ke=(r,t,s)=>t in r?At(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,ve=(r,t)=>{for(var s in t||(t={}))Ot.call(t,s)&&Ke(r,s,t[s]);if(Be)for(var s of Be(t))Mt.call(t,s)&&Ke(r,s,t[s]);return r},be=(r,t)=>It(r,zt(t)),Vt=(r,t,s)=>new Promise((a,i)=>{var l=f=>{try{x(s.next(f))}catch(n){i(n)}},c=f=>{try{x(s.throw(f))}catch(n){i(n)}},x=f=>f.done?a(f.value):Promise.resolve(f.value).then(l,c);x((s=s.apply(r,t)).next())});function Ft(r,t){var s,a;if(r.videoId!==t.videoId)return!0;const i=((s=r.opts)==null?void 0:s.playerVars)||{},l=((a=t.opts)==null?void 0:a.playerVars)||{};return i.start!==l.start||i.end!==l.end}function We(r={}){return be(ve({},r),{height:0,width:0,playerVars:be(ve({},r.playerVars),{autoplay:0,start:0,end:0})})}function qt(r,t){return r.videoId!==t.videoId||!gt(We(r.opts),We(t.opts))}function Dt(r,t){var s,a,i,l;return r.id!==t.id||r.className!==t.className||((s=r.opts)==null?void 0:s.width)!==((a=t.opts)==null?void 0:a.width)||((i=r.opts)==null?void 0:i.height)!==((l=t.opts)==null?void 0:l.height)||r.iframeClassName!==t.iframeClassName||r.title!==t.title}var Qt={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Lt={videoId:k.string,id:k.string,className:k.string,iframeClassName:k.string,style:k.object,title:k.string,loading:k.oneOf(["lazy","eager"]),opts:k.objectOf(k.any),onReady:k.func,onError:k.func,onPlay:k.func,onPause:k.func,onEnd:k.func,onStateChange:k.func,onPlaybackRateChange:k.func,onPlaybackQualityChange:k.func},ne=class extends ue.Component{constructor(r){super(r),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var s,a;return(a=(s=this.props).onReady)==null?void 0:a.call(s,t)},this.onPlayerError=t=>{var s,a;return(a=(s=this.props).onError)==null?void 0:a.call(s,t)},this.onPlayerStateChange=t=>{var s,a,i,l,c,x,f,n;switch((a=(s=this.props).onStateChange)==null||a.call(s,t),t.data){case ne.PlayerState.ENDED:(l=(i=this.props).onEnd)==null||l.call(i,t);break;case ne.PlayerState.PLAYING:(x=(c=this.props).onPlay)==null||x.call(c,t);break;case ne.PlayerState.PAUSED:(n=(f=this.props).onPause)==null||n.call(f,t);break}},this.onPlayerPlaybackRateChange=t=>{var s,a;return(a=(s=this.props).onPlaybackRateChange)==null?void 0:a.call(s,t)},this.onPlayerPlaybackQualityChange=t=>{var s,a;return(a=(s=this.props).onPlaybackQualityChange)==null?void 0:a.call(s,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=be(ve({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Rt(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(s=>{this.props.title&&s.setAttribute("title",this.props.title),this.props.loading&&s.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(s=>{this.props.id?s.setAttribute("id",this.props.id):s.removeAttribute("id"),this.props.iframeClassName?s.setAttribute("class",this.props.iframeClassName):s.removeAttribute("class"),this.props.opts&&this.props.opts.width?s.setAttribute("width",this.props.opts.width.toString()):s.removeAttribute("width"),this.props.opts&&this.props.opts.height?s.setAttribute("height",this.props.opts.height.toString()):s.removeAttribute("height"),this.props.title?s.setAttribute("title",this.props.title):s.setAttribute("title","YouTube video player"),this.props.loading?s.setAttribute("loading",this.props.loading):s.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,s,a,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let l=!1;const c={videoId:this.props.videoId};if((s=this.props.opts)!=null&&s.playerVars&&(l=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(c.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(c.endSeconds=this.props.opts.playerVars.end)),l){(a=this.internalPlayer)==null||a.loadVideoById(c);return}(i=this.internalPlayer)==null||i.cueVideoById(c)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(r){return Vt(this,null,function*(){Dt(r,this.props)&&this.updatePlayer(),qt(r,this.props)&&(yield this.resetPlayer()),Ft(r,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ue.createElement("div",{className:this.props.className,style:this.props.style},ue.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},ie=ne;ie.propTypes=Lt;ie.defaultProps=Qt;ie.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Yt=ie;const F={auto:"Auto",highres:"4K+",hd2160:"2160p (4K)",hd1440:"1440p",hd1080:"1080p",hd720:"720p",large:"480p",medium:"360p",small:"240p",tiny:"144p",default:"Default"},ae=["highres","hd2160","hd1440","hd1080","hd720","large","medium","small","tiny"];function Ut({videoId:r,initialTime:t=0,onPlay:s,onPause:a,onEnd:i,onProgress:l}){const c=w.useRef(null),x=w.useRef(null),[f,n]=w.useState(!1),[u,o]=w.useState(t),[m,h]=w.useState(0),[p,N]=w.useState(0),[_,E]=w.useState(!1),[P,j]=w.useState(!1),[y,S]=w.useState(!1),[q,M]=w.useState([]),[b,z]=w.useState("auto"),[R,A]=w.useState(""),I=w.useRef(!1),T=w.useRef(null),O=w.useRef(null),K={width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,disablekb:0,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,playsinline:1,origin:window.location.origin,enablejsapi:1}},Q=d=>{const v=Math.floor(d/60),C=Math.floor(d%60);return`${v.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`};w.useEffect(()=>{const d=()=>{j(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",d),()=>{document.removeEventListener("fullscreenchange",d)}},[]),w.useEffect(()=>()=>{T.current&&clearInterval(T.current),O.current&&clearInterval(O.current)},[]);const le=w.useCallback(()=>{O.current&&clearInterval(O.current),O.current=setInterval(()=>{if(c.current){const d=c.current.getPlaybackQuality();d&&A(d)}},1e3)},[]),L=()=>{O.current&&(clearInterval(O.current),O.current=null)},oe=d=>{c.current=d.target,h(d.target.getDuration()),E(!0),t>0&&!I.current&&(d.target.seekTo(t,!0),I.current=!0);const v=d.target.getAvailableQualityLevels();if(v&&v.length>0){const C=v.sort((D,ce)=>{const G=ae.indexOf(D),Y=ae.indexOf(ce);return G===-1?1:Y===-1?-1:G-Y});M(C);const V=d.target.getPlaybackQuality();A(V||"")}},W=w.useCallback(()=>{T.current&&clearInterval(T.current),T.current=setInterval(()=>{if(c.current){const d=c.current.getCurrentTime(),v=c.current.getDuration();o(d);const C=d/v*100;N(C),l?.(C,d)}},500)},[l]),je=()=>{T.current&&(clearInterval(T.current),T.current=null)},Ge=d=>{const v=d.data;if(v===1){if(n(!0),W(),le(),s?.(),c.current){const C=c.current.getAvailableQualityLevels();if(C&&C.length>0){const D=C.sort((ce,G)=>{const Y=ae.indexOf(ce),ke=ae.indexOf(G);return Y===-1?1:ke===-1?-1:Y-ke});M(D)}b!=="auto"&&c.current.setPlaybackQuality(b);const V=c.current.getPlaybackQuality();V&&A(V)}}else v===2?(n(!1),je(),L(),a?.()):v===0?(n(!1),je(),L(),i?.()):v===3&&c.current&&b!=="auto"&&c.current.setPlaybackQuality(b)},He=d=>{const v=d.data;v&&A(v)},Ne=()=>{c.current&&(f?c.current.pauseVideo():c.current.playVideo())},_e=()=>{if(c.current){const d=c.current.getCurrentTime();c.current.seekTo(d+10,!0)}},Pe=()=>{if(c.current){const d=c.current.getCurrentTime();c.current.seekTo(Math.max(0,d-10),!0)}},Je=d=>{if(c.current&&m>0){const v=d.currentTarget.getBoundingClientRect(),V=(d.clientX-v.left)/v.width,D=V*m;c.current.seekTo(D,!0),o(D),N(V*100)}},Xe=async()=>{if(x.current)try{document.fullscreenElement?await document.exitFullscreen():await x.current.requestFullscreen()}catch(d){console.error("Error attempting to toggle fullscreen:",d)}},Se=d=>{if(z(d),c.current)if(d==="auto"){const v=c.current.getCurrentTime(),C=f;c.current.loadVideoById({videoId:r,startSeconds:v}),C||setTimeout(()=>{c.current?.pauseVideo()},100)}else{c.current.setPlaybackQuality(d);const v=c.current.getCurrentTime(),C=f;c.current.loadVideoById({videoId:r,startSeconds:v,suggestedQuality:d}),setTimeout(()=>{c.current&&(c.current.setPlaybackQuality(d),C||c.current.pauseVideo())},500)}S(!1)},Ze=()=>b==="auto"?R&&F[R]?`Auto (${F[R]})`:"Auto":F[b]||b,$e=()=>{if(b==="auto"){if(R){const v=F[R];if(v){const C=v.match(/(\d+p?)/);return C?C[1]:"Auto"}}return"Auto"}const d=F[b];if(d){const v=d.match(/(\d+p?)/);return v?v[1]:d}return b},Ce=d=>(d.preventDefault(),!1);return e.jsxs("div",{ref:x,className:`video-player-container group relative aspect-video w-full overflow-hidden rounded-md bg-gradient-to-br from-gray-900 to-black shadow-2xl shadow-primary/10 ring-1 ring-white/10 ${P?"rounded-none":""}`,onContextMenu:Ce,style:{userSelect:"none"},children:[e.jsx("div",{className:"absolute inset-0",style:{pointerEvents:_?"auto":"none"},children:e.jsx(Yt,{videoId:r,opts:K,onReady:oe,onStateChange:Ge,onPlaybackQualityChange:He,className:"absolute inset-0 h-full w-full",iframeClassName:"absolute inset-0 h-full w-full"})}),!_&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"size-12 animate-spin rounded-full border-4 border-primary/30 border-t-primary"}),e.jsx("span",{className:"text-sm font-medium text-white/70",children:"Memuat video..."})]})}),e.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col justify-end bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:[!P&&e.jsxs("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center gap-6",children:[e.jsx("button",{onClick:Pe,className:"pointer-events-auto flex size-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all hover:scale-110 hover:bg-white/20",title:"Mundur 10 detik",children:e.jsx(g,{name:"replay_10",size:28})}),e.jsx("button",{onClick:Ne,className:"pointer-events-auto flex size-16 items-center justify-center rounded-full bg-primary/90 text-white shadow-lg shadow-primary/30 transition-all hover:scale-110 hover:bg-primary",title:f?"Pause":"Play",children:e.jsx(g,{name:f?"pause":"play_arrow",size:36})}),e.jsx("button",{onClick:_e,className:"pointer-events-auto flex size-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all hover:scale-110 hover:bg-white/20",title:"Maju 10 detik",children:e.jsx(g,{name:"forward_10",size:28})})]}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-3 px-4 pb-4 pt-8 sm:px-6",children:[e.jsxs("div",{className:"group/progress relative h-1.5 w-full cursor-pointer overflow-hidden rounded-full bg-white/20 transition-all hover:h-2.5",onClick:Je,children:[e.jsx("div",{className:"absolute h-full w-full bg-white/10"}),e.jsx("div",{className:"absolute h-full rounded-full bg-primary/50 blur-sm",style:{width:`${p}%`}}),e.jsx("div",{className:"relative h-full rounded-full bg-gradient-to-r from-primary via-primary to-emerald-400 transition-all",style:{width:`${p}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})}),e.jsx("div",{className:"absolute top-1/2 size-4 -translate-y-1/2 rounded-full border-2 border-white bg-primary opacity-0 shadow-lg transition-opacity group-hover/progress:opacity-100",style:{left:`calc(${p}% - 8px)`}})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:Ne,className:"flex size-9 items-center justify-center rounded-md text-white transition-all hover:bg-white/10",children:e.jsx(g,{name:f?"pause":"play_arrow",size:24})}),e.jsx("button",{onClick:Pe,className:"hidden size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-white sm:flex",children:e.jsx(g,{name:"replay_10",size:20})}),e.jsx("button",{onClick:_e,className:"hidden size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-white sm:flex",children:e.jsx(g,{name:"forward_10",size:20})}),e.jsxs("span",{className:"text-sm font-medium text-white",children:[e.jsx("span",{className:"text-primary",children:Q(u)}),e.jsx("span",{className:"mx-1.5 text-white/50",children:"/"}),e.jsx("span",{className:"text-white/70",children:Q(m)})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>S(!y),className:"flex items-center gap-1.5 rounded-md bg-white/10 px-2.5 py-1.5 text-xs font-bold text-white transition-all hover:bg-white/20",title:`Kualitas Video: ${Ze()}`,children:[e.jsx(g,{name:"hd",size:16}),e.jsx("span",{children:$e()}),e.jsx(g,{name:y?"expand_less":"expand_more",size:16})]}),y&&e.jsxs("div",{className:"absolute bottom-full right-0 mb-2 min-w-[160px] overflow-hidden rounded-md border border-white/10 bg-gray-900/95 shadow-xl backdrop-blur-sm",children:[e.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-white/60",children:"Kualitas Video"}),e.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[e.jsxs("button",{onClick:()=>Se("auto"),className:`flex w-full items-center justify-between px-3 py-2 text-sm transition-colors hover:bg-white/10 ${b==="auto"?"bg-primary/20 font-semibold text-primary":"text-white"}`,children:[e.jsx("span",{children:"Auto"}),e.jsxs("div",{className:"flex items-center gap-2",children:[b==="auto"&&R&&e.jsxs("span",{className:"text-xs text-white/50",children:["(",F[R]||R,")"]}),b==="auto"&&e.jsx(g,{name:"check",size:16})]})]}),e.jsx("div",{className:"my-1 border-t border-white/10"}),q.filter(d=>d!=="auto"&&d!=="default").map(d=>e.jsxs("button",{onClick:()=>Se(d),className:`flex w-full items-center justify-between px-3 py-2 text-sm transition-colors hover:bg-white/10 ${b===d?"bg-primary/20 font-semibold text-primary":"text-white"}`,children:[e.jsx("span",{children:F[d]||d}),e.jsxs("div",{className:"flex items-center gap-2",children:[R===d&&b!==d&&e.jsx("span",{className:"text-xs text-white/50",children:"(current)"}),b===d&&e.jsx(g,{name:"check",size:16})]})]},d))]})]})]}),e.jsx("button",{onClick:Xe,className:"flex size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-primary",title:P?"Keluar Fullscreen":"Fullscreen",children:e.jsx(g,{name:P?"fullscreen_exit":"fullscreen",size:24})})]})]})]})]}),e.jsx("div",{className:"pointer-events-none absolute inset-0 select-none",onContextMenu:Ce})]})}function Gt({classData:r,currentVideo:t,progressStats:s,navigation:a,certificateStatus:i}){const[l,c]=w.useState(t.notes[0]||null),[x,f]=w.useState(0),[n,u]=w.useState(!1),m=(j=>{const y=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/\s]{11})/,S=j?.match(y);return S?S[1]:""})(t.video.youtube_url||""),h=w.useCallback(async(j,y)=>{if(!(Math.abs(y-x)<10))try{await U.post(`/user/study/${r.id}/video/${t.video.id}/progress`,{last_time_sec:Math.floor(y)}),f(y)}catch(S){console.error("Failed to save progress:",S)}},[r.id,t.video.id,x]),p=async()=>{try{await U.post(`/user/study/${r.id}/video/${t.video.id}/complete`),B.reload({only:["progressStats","currentVideo","certificateStatus"]})}catch(j){console.error("Failed to mark video as completed:",j)}},N=async j=>{try{const y=await U.post(`/user/study/${r.id}/video/${t.video.id}/notes`,{content:j});c(y.data.note)}catch(y){throw console.error("Failed to add note:",y),y}},_=async(j,y)=>{try{const S=await U.put(`/user/study/notes/${j}`,{content:y});c(S.data.note)}catch(S){throw console.error("Failed to update note:",S),S}},E=j=>{B.visit(`/user/study/${r.id}/video/${j}`)},P=async()=>{if(!n&&!t.progress?.is_completed){u(!0);try{await U.post(`/user/study/${r.id}/video/${t.video.id}/complete`),B.reload({only:["progressStats","currentVideo","certificateStatus"]})}catch(j){console.error("Failed to complete video:",j)}finally{u(!1)}}};return e.jsxs(tt,{rightSidebar:e.jsx(at,{classData:r,currentVideoId:t.video.id,progressStats:s,onVideoSelect:E,certificateStatus:i}),children:[e.jsx(et,{title:`${t.video.title} - ${r.title}`}),e.jsxs("div",{className:"mt-6 flex flex-col gap-4 sm:mt-8 lg:mt-12 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-xl font-extrabold tracking-tight text-slate-900 sm:text-2xl lg:text-3xl",children:r.title}),e.jsx("p",{className:"text-sm font-normal text-slate-500 sm:text-base lg:text-lg",children:t.video.title})]}),e.jsx("button",{onClick:P,disabled:n||t.progress?.is_completed,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:from-green-600 hover:to-emerald-700 hover:shadow-lg disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto sm:px-5",children:n?e.jsxs(e.Fragment,{children:[e.jsx(g,{name:"progress_activity",size:18,className:"animate-spin"}),"Memproses..."]}):t.progress?.is_completed?e.jsxs(e.Fragment,{children:[e.jsx(g,{name:"check_circle",size:18}),"Video Selesai"]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{name:"task_alt",size:18}),"Selesaikan Video"]})})]}),e.jsx(Ut,{videoId:m,initialTime:t.progress?.last_time_sec||0,onProgress:h,onEnd:p}),e.jsx(ut,{note:l,onSave:N,onUpdate:_}),e.jsx(nt,{video:t.video,resources:t.resources,navigation:a,onNavigate:E}),e.jsx(ot,{mentors:r.mentors})]})}export{Gt as default};
