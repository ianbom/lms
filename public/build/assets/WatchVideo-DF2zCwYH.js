import{j as t,a as D,r as j,g as me,R as se,b as F,H as Fe}from"./app-wjlaHdqt.js";import{I as x}from"./Icon-CqVksNsp.js";import{U as De}from"./UserDashboardLayout-DRm5hU86.js";const ae=r=>{if(!r||r<=0)return"0:00";const e=Math.floor(r/3600),s=Math.floor(r%3600/60),a=Math.floor(r%60);return e>0?`${e}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${s}:${a.toString().padStart(2,"0")}`},Le=r=>{switch(r?.toLowerCase()){case"pdf":return"picture_as_pdf";case"doc":case"docx":return"description";case"ppt":case"pptx":return"slideshow";case"xls":case"xlsx":return"table_chart";case"zip":case"rar":return"folder_zip";case"mp4":case"mov":case"avi":return"videocam";case"mp3":case"wav":return"audiotrack";case"jpg":case"jpeg":case"png":case"gif":return"image";default:return"insert_drive_file"}},Ye=r=>{switch(r?.toLowerCase()){case"pdf":return{bg:"bg-red-100",text:"text-red-500"};case"doc":case"docx":return{bg:"bg-blue-100",text:"text-blue-500"};case"ppt":case"pptx":return{bg:"bg-orange-100",text:"text-orange-500"};case"xls":case"xlsx":return{bg:"bg-green-100",text:"text-green-500"};case"zip":case"rar":return{bg:"bg-purple-100",text:"text-purple-500"};default:return{bg:"bg-slate-100",text:"text-slate-500"}}};function Ue({classData:r,currentVideoId:e,progressStats:s,onVideoSelect:a,certificateStatus:i}){(()=>{let l=!1;for(const p of r.modules)for(const f of p.videos){if(l)return{video:f,moduleTitle:p.title};f.id===e&&(l=!0)}return null})();const u=l=>l.progress?.[0]?.is_completed??!1,h=l=>l===e,d=l=>{D.visit(`/user/study/${r.id}/quiz/${l}`)},n=()=>{D.visit(`/user/certificate/claim/${r.id}`)},c=l=>{const p=l.attempts?.[0];return p&&p.score>=80};return t.jsxs("aside",{className:"z-20 flex h-full w-full shrink-0 flex-col border-l border-slate-200 bg-white lg:w-[340px]",children:[t.jsxs("div",{className:"border-b border-slate-100 bg-white p-4 pt-6 sm:p-6",children:[t.jsx("h3",{className:"mb-1 text-lg font-bold text-slate-900",children:"Kurikulum Kelas"}),t.jsxs("div",{className:"mb-2 flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"font-medium text-slate-500",children:[s.progress_percent,"% Selesai"]}),t.jsxs("span",{className:"font-bold text-primary",children:[s.completed_videos,"/",s.total_videos]})]}),t.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-100 ",children:t.jsx("div",{className:"h-2.5 rounded-full bg-primary transition-all duration-300",style:{width:`${s.progress_percent}%`}})})]}),t.jsx("div",{className:"custom-scrollbar flex-1 space-y-6 overflow-y-auto p-4 ",children:r.modules.map((l,p)=>t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-3 px-2 text-xs font-bold uppercase tracking-wider text-slate-400",children:["Modul ",p+1,": ",l.title]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[l.videos.map(f=>{const m=u(f);return h(f.id)?t.jsxs("button",{className:"flex w-full scale-[1.02] transform items-start gap-3 rounded-xl bg-primary p-4 text-left text-white shadow-lg shadow-primary/30 transition-transform",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 shrink-0 animate-pulse items-center justify-center rounded-full bg-white/20 text-white",children:t.jsx(x,{name:"play_arrow",size:16})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h5",{className:"text-sm font-bold leading-snug",children:f.title}),t.jsxs("div",{className:"mt-2 flex items-center gap-2 text-white/80",children:[t.jsx(x,{name:"schedule",size:14}),t.jsx("span",{className:"text-xs font-medium",children:ae(f.duration_sec)})]})]})]},f.id):m?t.jsxs("button",{onClick:()=>a(f.id),className:"group flex w-full items-start gap-3 rounded-xl p-3 text-left transition-colors hover:bg-slate-50",children:[t.jsx("div",{className:"mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded-full bg-primary text-white",children:t.jsx(x,{name:"check",size:14,className:"font-bold"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h5",{className:"text-sm font-medium text-slate-500 line-through decoration-slate-400",children:f.title}),t.jsx("span",{className:"mt-1 block text-xs text-slate-400",children:ae(f.duration_sec)})]})]},f.id):t.jsxs("button",{onClick:()=>a(f.id),className:"group flex w-full items-start gap-3 rounded-xl p-3 text-left transition-colors hover:bg-slate-50",children:[t.jsx("div",{className:"mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border-2 border-slate-300 text-slate-300",children:t.jsx(x,{name:"play_arrow",size:10,className:"font-bold"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h5",{className:"text-sm font-medium text-slate-600 transition-colors group-hover:text-primary",children:f.title}),t.jsx("span",{className:"mt-1 block text-xs text-slate-400",children:ae(f.duration_sec)})]})]},f.id)}),l.quizzes?.map(f=>{const m=c(f),b=f.attempts&&f.attempts.length>0,N=f.attempts?.[0]?.score;return t.jsxs("button",{onClick:()=>d(f.id),className:`group flex w-full items-start gap-3 rounded-xl p-3 text-left transition-colors ${m?"hover:bg-green-50":b?"hover:bg-red-50":"hover:bg-amber-50"}`,children:[t.jsx("div",{className:`mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded-full ${m?"bg-green-500 text-white":b?"border-2 border-red-400 bg-red-100 text-red-400":"border-2 border-amber-400 text-amber-400"}`,children:t.jsx(x,{name:m?"check":"quiz",size:m?14:10,className:"font-bold"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h5",{className:`text-sm font-medium transition-colors ${m?"text-green-600":b?"text-red-600 group-hover:text-red-700":"text-slate-600 group-hover:text-amber-600"}`,children:f.title}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsxs("span",{className:"text-xs text-slate-400",children:[f.questions_count||0," ","Pertanyaan"]}),b&&t.jsxs("span",{className:`text-xs font-medium ${m?"text-green-500":"text-red-500"}`,children:["â€¢ Nilai: ",N]})]})]})]},`quiz-${f.id}`)})]})]},l.id))}),i?.is_eligible&&t.jsxs("div",{className:"border-t border-slate-100 bg-gradient-to-r from-amber-50 to-yellow-50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-amber-100",children:t.jsx(x,{name:"emoji_events",size:18,className:"text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-slate-800",children:"Selamat! ðŸŽ‰"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Anda telah menyelesaikan kelas ini"})]})]}),t.jsxs("button",{onClick:n,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-yellow-500 px-4 py-3 font-bold text-white shadow-lg shadow-amber-500/30 transition-all hover:from-amber-600 hover:to-yellow-600 hover:shadow-amber-500/40",children:[t.jsx(x,{name:"workspace_premium",size:20}),"Klaim Sertifikat"]})]}),i&&!i.is_eligible&&t.jsxs("div",{className:"border-t border-slate-100 bg-slate-50 p-4",children:[t.jsx("p",{className:"mb-2 text-xs font-bold uppercase text-slate-400",children:"Syarat Sertifikat"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(x,{name:i.all_videos_completed?"check_circle":"radio_button_unchecked",size:16,className:i.all_videos_completed?"text-green-500":"text-slate-300"}),t.jsxs("span",{className:i.all_videos_completed?"text-green-600":"text-slate-500",children:["Video: ",i.completed_videos,"/",i.total_videos]})]}),i.total_quizzes>0&&t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(x,{name:i.all_quizzes_passed?"check_circle":"radio_button_unchecked",size:16,className:i.all_quizzes_passed?"text-green-500":"text-slate-300"}),t.jsxs("span",{className:i.all_quizzes_passed?"text-green-600":"text-slate-500",children:["Quiz lulus (min"," ",i.min_quiz_score,"):"," ",i.passed_quizzes,"/",i.total_quizzes]})]})]})]})]})}function Be({video:r,resources:e,navigation:s,onNavigate:a}){return t.jsx("div",{className:"flex flex-col gap-6",children:t.jsxs("div",{className:"mb-10 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:col-span-2",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Tentang Video Ini"}),t.jsx("p",{className:"leading-relaxed text-slate-600",children:r.description||"Tidak ada deskripsi untuk video ini."})]}),t.jsx(Qe,{resources:e})]})})}function Qe({resources:r}){return r.length===0?t.jsxs("div",{className:"shadow-card h-fit rounded-2xl border border-slate-100 bg-white p-5",children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-bold text-slate-900",children:[t.jsx("span",{className:"text-primary",children:t.jsx(x,{name:"folder_open",size:24})}),"Resource Video"]}),t.jsx("p",{className:"text-sm text-slate-500",children:"Tidak ada resource untuk video ini."})]}):t.jsxs("div",{className:"shadow-card h-fit rounded-2xl border border-slate-100 bg-white p-5",children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-bold text-slate-900",children:[t.jsx("span",{className:"text-primary",children:t.jsx(x,{name:"folder_open",size:24})}),"Resource Video"]}),t.jsx("div",{className:"flex flex-col gap-3",children:r.map(e=>{const s=Ye(e.file_type),a=Le(e.file_type);return t.jsxs("a",{className:"group flex items-center justify-between rounded-xl bg-slate-50 p-3 transition-colors hover:bg-primary-light",href:e.file_url,target:"_blank",rel:"noopener noreferrer",download:!0,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded ${s.bg} ${s.text}`,children:t.jsx(x,{name:a,size:18})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-slate-700 group-hover:text-primary",children:e.title}),t.jsx("span",{className:"text-xs text-slate-400",children:e.formatted_size||We(e.file_size)})]})]}),t.jsx("span",{className:"text-slate-400 group-hover:text-primary",children:t.jsx(x,{name:"download",size:20})})]},e.id)})})]})}function We(r){if(!r)return"0 KB";const e=["B","KB","MB","GB"];let s=0,a=r;for(;a>=1024&&s<e.length-1;)a/=1024,s++;return`${a.toFixed(1)} ${e[s]}`}function Ge({mentors:r}){return r.length===0?null:t.jsxs("div",{className:"shadow-card rounded-2xl border border-slate-100 bg-white p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary-light",children:t.jsx(x,{name:"school",size:24,className:"text-primary"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Mentor Kelas"}),t.jsxs("p",{className:"text-sm text-slate-500",children:[r.length," mentor"," ",r.length>1?"siap membimbing Anda":"membimbing kelas ini"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map(e=>t.jsx(Ke,{mentor:e},e.id))})]})}function Ke({mentor:r}){return t.jsxs("div",{className:"group flex flex-col items-center rounded-xl border border-slate-100 bg-gradient-to-b from-slate-50 to-white p-5 transition-all hover:border-primary/20 hover:shadow-md",children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx("div",{className:"h-20 w-20 rounded-full border-2 border-white bg-slate-200 bg-cover bg-center shadow-md ring-2 ring-primary/10 transition-all group-hover:ring-primary/30",style:{backgroundImage:r.avatar_url?`url('${r.avatar_url}')`:void 0},children:!r.avatar_url&&t.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full bg-gradient-to-br from-primary/20 to-primary/10 text-primary",children:t.jsx(x,{name:"person",size:36})})}),t.jsx("div",{className:"absolute bottom-1 right-1 h-4 w-4 rounded-full border-2 border-white bg-green-500"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{className:"font-bold text-slate-900 group-hover:text-primary",children:r.name}),r.headline&&t.jsx("p",{className:"mt-1 text-sm text-slate-500",children:r.headline})]}),t.jsx("div",{className:"mt-3 flex items-center gap-2",children:t.jsxs("span",{className:"rounded-full bg-amber-100 px-2.5 py-1 text-xs font-semibold text-amber-700",children:[t.jsx(x,{name:"star",size:12,className:"mr-1 inline"}),"Mentor"]})}),r.bio&&t.jsx("p",{className:"mt-3 line-clamp-2 text-center text-xs leading-relaxed text-slate-500",children:r.bio})]})}function He({note:r,onSave:e,onUpdate:s}){const[a,i]=j.useState(!1),[o,u]=j.useState(r?.content||""),[h,d]=j.useState(!1),n=!!r,c=o!==(r?.content||""),l=async()=>{if(o.trim()){d(!0);try{n&&r?await s(r.id,o):await e(o)}catch(f){console.error("Failed to save note:",f)}finally{d(!1)}}},p=()=>{u(r?.content||""),i(!1)};return t.jsxs("div",{className:"shadow-card rounded-2xl border border-slate-200 bg-white",children:[t.jsxs("button",{onClick:()=>i(!a),className:"flex w-full items-center justify-between p-4 transition-colors hover:bg-slate-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-100",children:t.jsx(x,{name:"edit_note",size:24,className:"text-amber-600"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"font-semibold text-slate-900",children:"Catatan Video"}),t.jsx("p",{className:"text-sm text-slate-500",children:n?"Anda memiliki catatan untuk video ini":"Tambahkan catatan untuk video ini"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[n&&t.jsx("span",{className:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Tersimpan"}),t.jsx(x,{name:a?"expand_less":"expand_more",size:24,className:"text-slate-400"})]})]}),a&&t.jsxs("div",{className:"border-t border-slate-100 p-4",children:[t.jsx("textarea",{value:o,onChange:f=>u(f.target.value),placeholder:"Tulis catatan Anda di sini... Anda bisa mencatat poin-poin penting dari video ini.",className:"min-h-[150px] w-full resize-none rounded-xl border border-slate-200 p-4 text-slate-700 placeholder-slate-400 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("span",{className:"text-xs text-slate-400",children:[o.length," karakter"]}),n&&r?.updated_at&&t.jsxs("span",{className:"text-xs text-slate-400",children:["Terakhir diperbarui:"," ",new Date(r.updated_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-end gap-3",children:[t.jsx("button",{onClick:p,className:"rounded-md px-4 py-2 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-100",children:"Batal"}),t.jsx("button",{onClick:l,disabled:!o.trim()||!c||h,className:"flex items-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-50",children:h?t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"refresh",size:16,className:"animate-spin"}),"Menyimpan..."]}):t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"save",size:16}),n?"Perbarui Catatan":"Simpan Catatan"]})})]})]})]})}var ne={exports:{}},ie,ve;function Je(){if(ve)return ie;ve=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ie=r,ie}var oe,ye;function Xe(){if(ye)return oe;ye=1;var r=Je();function e(){}function s(){}return s.resetWarningCache=e,oe=function(){function a(u,h,d,n,c,l){if(l!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}a.isRequired=a;function i(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:e};return o.PropTypes=o,o},oe}var be;function Ze(){return be||(be=1,ne.exports=Xe()()),ne.exports}var $e=Ze();const S=me($e);var le,we;function et(){return we||(we=1,le=function r(e,s){if(e===s)return!0;if(e&&s&&typeof e=="object"&&typeof s=="object"){if(e.constructor!==s.constructor)return!1;var a,i,o;if(Array.isArray(e)){if(a=e.length,a!=s.length)return!1;for(i=a;i--!==0;)if(!r(e[i],s[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if(o=Object.keys(e),a=o.length,a!==Object.keys(s).length)return!1;for(i=a;i--!==0;)if(!Object.prototype.hasOwnProperty.call(s,o[i]))return!1;for(i=a;i--!==0;){var u=o[i];if(!r(e[u],s[u]))return!1}return!0}return e!==e&&s!==s}),le}var tt=et();const rt=me(tt);var Q={exports:{}},ce,je;function st(){if(je)return ce;je=1;var r;return r=function(){var e={},s={};return e.on=function(a,i){var o={name:a,handler:i};return s[a]=s[a]||[],s[a].unshift(o),o},e.off=function(a){var i=s[a.name].indexOf(a);i!==-1&&s[a.name].splice(i,1)},e.trigger=function(a,i){var o=s[a],u;if(o)for(u=o.length;u--;)o[u].handler(i)},e},ce=r,ce}var W={exports:{}},ue,Ne;function at(){if(Ne)return ue;Ne=1,ue=function(i,o,u){var h=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof o=="function"&&(u=o,o={}),o=o||{},u=u||function(){},d.type=o.type||"text/javascript",d.charset=o.charset||"utf8",d.async="async"in o?!!o.async:!0,d.src=i,o.attrs&&r(d,o.attrs),o.text&&(d.text=""+o.text);var n="onload"in d?e:s;n(d,u),d.onload||e(d,u),h.appendChild(d)};function r(a,i){for(var o in i)a.setAttribute(o,i[o])}function e(a,i){a.onload=function(){this.onerror=this.onload=null,i(null,a)},a.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),a)}}function s(a,i){a.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,a))}}return ue}var _e;function nt(){return _e||(_e=1,(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var s=at(),a=i(s);function i(o){return o&&o.__esModule?o:{default:o}}e.default=function(o){var u=new Promise(function(h){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){h(window.YT);return}else{var d=window.location.protocol==="http:"?"http:":"https:";(0,a.default)(d+"//www.youtube.com/iframe_api",function(c){c&&o.trigger("error",c)})}var n=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){n&&n(),h(window.YT)}});return u},r.exports=e.default})(W,W.exports)),W.exports}var G={exports:{}},K={exports:{}},H={exports:{}},de,Pe;function it(){if(Pe)return de;Pe=1;var r=1e3,e=r*60,s=e*60,a=s*24,i=a*365.25;de=function(n,c){c=c||{};var l=typeof n;if(l==="string"&&n.length>0)return o(n);if(l==="number"&&isNaN(n)===!1)return c.long?h(n):u(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function o(n){if(n=String(n),!(n.length>100)){var c=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(c){var l=parseFloat(c[1]),p=(c[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return l*i;case"days":case"day":case"d":return l*a;case"hours":case"hour":case"hrs":case"hr":case"h":return l*s;case"minutes":case"minute":case"mins":case"min":case"m":return l*e;case"seconds":case"second":case"secs":case"sec":case"s":return l*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function u(n){return n>=a?Math.round(n/a)+"d":n>=s?Math.round(n/s)+"h":n>=e?Math.round(n/e)+"m":n>=r?Math.round(n/r)+"s":n+"ms"}function h(n){return d(n,a,"day")||d(n,s,"hour")||d(n,e,"minute")||d(n,r,"second")||n+" ms"}function d(n,c,l){if(!(n<c))return n<c*1.5?Math.floor(n/c)+" "+l:Math.ceil(n/c)+" "+l+"s"}return de}var Se;function ot(){return Se||(Se=1,(function(r,e){e=r.exports=i.debug=i.default=i,e.coerce=d,e.disable=u,e.enable=o,e.enabled=h,e.humanize=it(),e.names=[],e.skips=[],e.formatters={};var s;function a(n){var c=0,l;for(l in n)c=(c<<5)-c+n.charCodeAt(l),c|=0;return e.colors[Math.abs(c)%e.colors.length]}function i(n){function c(){if(c.enabled){var l=c,p=+new Date,f=p-(s||p);l.diff=f,l.prev=s,l.curr=p,s=p;for(var m=new Array(arguments.length),b=0;b<m.length;b++)m[b]=arguments[b];m[0]=e.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var N=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(_,y){if(_==="%%")return _;N++;var v=e.formatters[y];if(typeof v=="function"){var w=m[N];_=v.call(l,w),m.splice(N,1),N--}return _}),e.formatArgs.call(l,m);var C=c.log||e.log||console.log.bind(console);C.apply(l,m)}}return c.namespace=n,c.enabled=e.enabled(n),c.useColors=e.useColors(),c.color=a(n),typeof e.init=="function"&&e.init(c),c}function o(n){e.save(n),e.names=[],e.skips=[];for(var c=(typeof n=="string"?n:"").split(/[\s,]+/),l=c.length,p=0;p<l;p++)c[p]&&(n=c[p].replace(/\*/g,".*?"),n[0]==="-"?e.skips.push(new RegExp("^"+n.substr(1)+"$")):e.names.push(new RegExp("^"+n+"$")))}function u(){e.enable("")}function h(n){var c,l;for(c=0,l=e.skips.length;c<l;c++)if(e.skips[c].test(n))return!1;for(c=0,l=e.names.length;c<l;c++)if(e.names[c].test(n))return!0;return!1}function d(n){return n instanceof Error?n.stack||n.message:n}})(H,H.exports)),H.exports}var Ce;function lt(){return Ce||(Ce=1,(function(r,e){var s={};e=r.exports=ot(),e.log=o,e.formatArgs=i,e.save=u,e.load=h,e.useColors=a,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function a(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(n){try{return JSON.stringify(n)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}};function i(n){var c=this.useColors;if(n[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+n[0]+(c?"%c ":" ")+"+"+e.humanize(this.diff),!!c){var l="color: "+this.color;n.splice(1,0,l,"color: inherit");var p=0,f=0;n[0].replace(/%[a-zA-Z%]/g,function(m){m!=="%%"&&(p++,m==="%c"&&(f=p))}),n.splice(f,0,l)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(n){try{n==null?e.storage.removeItem("debug"):e.storage.debug=n}catch{}}function h(){var n;try{n=e.storage.debug}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=s.DEBUG),n}e.enable(h());function d(){try{return window.localStorage}catch{}}})(K,K.exports)),K.exports}var J={exports:{}},ke;function ct(){return ke||(ke=1,(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],r.exports=e.default})(J,J.exports)),J.exports}var X={exports:{}},Ee;function ut(){return Ee||(Ee=1,(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],r.exports=e.default})(X,X.exports)),X.exports}var Z={exports:{}},$={exports:{}},Te;function dt(){return Te||(Te=1,(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},r.exports=e.default})($,$.exports)),$.exports}var Re;function ft(){return Re||(Re=1,(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var s=dt(),a=i(s);function i(o){return o&&o.__esModule?o:{default:o}}e.default={pauseVideo:{acceptableStates:[a.default.ENDED,a.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[a.default.ENDED,a.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[a.default.ENDED,a.default.PLAYING,a.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},r.exports=e.default})(Z,Z.exports)),Z.exports}var ze;function pt(){return ze||(ze=1,(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var s=lt(),a=c(s),i=ct(),o=c(i),u=ut(),h=c(u),d=ft(),n=c(d);function c(f){return f&&f.__esModule?f:{default:f}}var l=(0,a.default)("youtube-player"),p={};p.proxyEvents=function(f){var m={},b=function(E){var T="on"+E.slice(0,1).toUpperCase()+E.slice(1);m[T]=function(P){l('event "%s"',T,P),f.trigger(E,P)}},N=!0,C=!1,_=void 0;try{for(var y=h.default[Symbol.iterator](),v;!(N=(v=y.next()).done);N=!0){var w=v.value;b(w)}}catch(A){C=!0,_=A}finally{try{!N&&y.return&&y.return()}finally{if(C)throw _}}return m},p.promisifyPlayer=function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b={},N=function(T){m&&n.default[T]?b[T]=function(){for(var P=arguments.length,O=Array(P),R=0;R<P;R++)O[R]=arguments[R];return f.then(function(z){var I=n.default[T],L=z.getPlayerState(),Y=z[T].apply(z,O);return I.stateChangeRequired||Array.isArray(I.acceptableStates)&&I.acceptableStates.indexOf(L)===-1?new Promise(function(M){var U=function q(){var re=z.getPlayerState(),B=void 0;typeof I.timeout=="number"&&(B=setTimeout(function(){z.removeEventListener("onStateChange",q),M()},I.timeout)),Array.isArray(I.acceptableStates)&&I.acceptableStates.indexOf(re)!==-1&&(z.removeEventListener("onStateChange",q),clearTimeout(B),M())};z.addEventListener("onStateChange",U)}).then(function(){return Y}):Y})}:b[T]=function(){for(var P=arguments.length,O=Array(P),R=0;R<P;R++)O[R]=arguments[R];return f.then(function(z){return z[T].apply(z,O)})}},C=!0,_=!1,y=void 0;try{for(var v=o.default[Symbol.iterator](),w;!(C=(w=v.next()).done);C=!0){var A=w.value;N(A)}}catch(E){_=!0,y=E}finally{try{!C&&v.return&&v.return()}finally{if(_)throw y}}return b},e.default=p,r.exports=e.default})(G,G.exports)),G.exports}var Ie;function mt(){return Ie||(Ie=1,(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},a=st(),i=n(a),o=nt(),u=n(o),h=pt(),d=n(h);function n(l){return l&&l.__esModule?l:{default:l}}var c=void 0;e.default=function(l){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=(0,i.default)();if(c||(c=(0,u.default)(m)),p.events)throw new Error("Event handlers cannot be overwritten.");if(typeof l=="string"&&!document.getElementById(l))throw new Error('Element "'+l+'" does not exist.');p.events=d.default.proxyEvents(m);var b=new Promise(function(C){if((typeof l>"u"?"undefined":s(l))==="object"&&l.playVideo instanceof Function){var _=l;C(_)}else c.then(function(y){var v=new y.Player(l,p);return m.on("ready",function(){C(v)}),null})}),N=d.default.promisifyPlayer(b,f);return N.on=m.on,N.off=m.off,N},r.exports=e.default})(Q,Q.exports)),Q.exports}var ht=mt();const xt=me(ht);var gt=Object.defineProperty,vt=Object.defineProperties,yt=Object.getOwnPropertyDescriptors,Ae=Object.getOwnPropertySymbols,bt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,Oe=(r,e,s)=>e in r?gt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,fe=(r,e)=>{for(var s in e||(e={}))bt.call(e,s)&&Oe(r,s,e[s]);if(Ae)for(var s of Ae(e))wt.call(e,s)&&Oe(r,s,e[s]);return r},pe=(r,e)=>vt(r,yt(e)),jt=(r,e,s)=>new Promise((a,i)=>{var o=d=>{try{h(s.next(d))}catch(n){i(n)}},u=d=>{try{h(s.throw(d))}catch(n){i(n)}},h=d=>d.done?a(d.value):Promise.resolve(d.value).then(o,u);h((s=s.apply(r,e)).next())});function Nt(r,e){var s,a;if(r.videoId!==e.videoId)return!0;const i=((s=r.opts)==null?void 0:s.playerVars)||{},o=((a=e.opts)==null?void 0:a.playerVars)||{};return i.start!==o.start||i.end!==o.end}function Me(r={}){return pe(fe({},r),{height:0,width:0,playerVars:pe(fe({},r.playerVars),{autoplay:0,start:0,end:0})})}function _t(r,e){return r.videoId!==e.videoId||!rt(Me(r.opts),Me(e.opts))}function Pt(r,e){var s,a,i,o;return r.id!==e.id||r.className!==e.className||((s=r.opts)==null?void 0:s.width)!==((a=e.opts)==null?void 0:a.width)||((i=r.opts)==null?void 0:i.height)!==((o=e.opts)==null?void 0:o.height)||r.iframeClassName!==e.iframeClassName||r.title!==e.title}var St={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Ct={videoId:S.string,id:S.string,className:S.string,iframeClassName:S.string,style:S.object,title:S.string,loading:S.oneOf(["lazy","eager"]),opts:S.objectOf(S.any),onReady:S.func,onError:S.func,onPlay:S.func,onPause:S.func,onEnd:S.func,onStateChange:S.func,onPlaybackRateChange:S.func,onPlaybackQualityChange:S.func},ee=class extends se.Component{constructor(r){super(r),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var s,a;return(a=(s=this.props).onReady)==null?void 0:a.call(s,e)},this.onPlayerError=e=>{var s,a;return(a=(s=this.props).onError)==null?void 0:a.call(s,e)},this.onPlayerStateChange=e=>{var s,a,i,o,u,h,d,n;switch((a=(s=this.props).onStateChange)==null||a.call(s,e),e.data){case ee.PlayerState.ENDED:(o=(i=this.props).onEnd)==null||o.call(i,e);break;case ee.PlayerState.PLAYING:(h=(u=this.props).onPlay)==null||h.call(u,e);break;case ee.PlayerState.PAUSED:(n=(d=this.props).onPause)==null||n.call(d,e);break}},this.onPlayerPlaybackRateChange=e=>{var s,a;return(a=(s=this.props).onPlaybackRateChange)==null?void 0:a.call(s,e)},this.onPlayerPlaybackQualityChange=e=>{var s,a;return(a=(s=this.props).onPlaybackQualityChange)==null?void 0:a.call(s,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=pe(fe({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=xt(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(s=>{this.props.title&&s.setAttribute("title",this.props.title),this.props.loading&&s.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(s=>{this.props.id?s.setAttribute("id",this.props.id):s.removeAttribute("id"),this.props.iframeClassName?s.setAttribute("class",this.props.iframeClassName):s.removeAttribute("class"),this.props.opts&&this.props.opts.width?s.setAttribute("width",this.props.opts.width.toString()):s.removeAttribute("width"),this.props.opts&&this.props.opts.height?s.setAttribute("height",this.props.opts.height.toString()):s.removeAttribute("height"),this.props.title?s.setAttribute("title",this.props.title):s.setAttribute("title","YouTube video player"),this.props.loading?s.setAttribute("loading",this.props.loading):s.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,s,a,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let o=!1;const u={videoId:this.props.videoId};if((s=this.props.opts)!=null&&s.playerVars&&(o=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(u.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(u.endSeconds=this.props.opts.playerVars.end)),o){(a=this.internalPlayer)==null||a.loadVideoById(u);return}(i=this.internalPlayer)==null||i.cueVideoById(u)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(r){return jt(this,null,function*(){Pt(r,this.props)&&this.updatePlayer(),_t(r,this.props)&&(yield this.resetPlayer()),Nt(r,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return se.createElement("div",{className:this.props.className,style:this.props.style},se.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},te=ee;te.propTypes=Ct;te.defaultProps=St;te.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var kt=te;function Et({videoId:r,initialTime:e=0,onPlay:s,onPause:a,onEnd:i,onProgress:o}){const u=j.useRef(null),h=j.useRef(null),[d,n]=j.useState(!1),[c,l]=j.useState(e),[p,f]=j.useState(0),[m,b]=j.useState(0),[N,C]=j.useState(!1),[_,y]=j.useState(!1),[v,w]=j.useState(100),[A,E]=j.useState(!1),T=j.useRef(!1),P=j.useRef(null),O={width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,disablekb:0,fs:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,playsinline:1,origin:window.location.origin,enablejsapi:1}},R=g=>{const k=Math.floor(g/60),V=Math.floor(g%60);return`${k.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`};j.useEffect(()=>{const g=()=>{y(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",g),()=>{document.removeEventListener("fullscreenchange",g)}},[]),j.useEffect(()=>()=>{P.current&&clearInterval(P.current)},[]);const z=g=>{u.current=g.target,f(g.target.getDuration()),C(!0),g.target.isMuted()?(E(!0),w(0)):w(g.target.getVolume()),e>0&&!T.current&&(g.target.seekTo(e,!0),T.current=!0)},I=j.useCallback(()=>{P.current&&clearInterval(P.current),P.current=setInterval(()=>{if(u.current){const g=u.current.getCurrentTime(),k=u.current.getDuration();l(g);const V=g/k*100;b(V),o?.(V,g)}},500)},[o]),L=()=>{P.current&&(clearInterval(P.current),P.current=null)},Y=g=>{const k=g.data;k===1?(n(!0),I(),s?.()):k===2?(n(!1),L(),a?.()):k===0&&(n(!1),L(),i?.())},M=()=>{u.current&&(d?u.current.pauseVideo():u.current.playVideo())},U=()=>{if(u.current){const g=u.current.getCurrentTime();u.current.seekTo(g+10,!0)}},q=()=>{if(u.current){const g=u.current.getCurrentTime();u.current.seekTo(Math.max(0,g-10),!0)}},re=g=>{if(u.current&&p>0){const k=g.currentTarget.getBoundingClientRect(),xe=(g.clientX-k.left)/k.width,ge=xe*p;u.current.seekTo(ge,!0),l(ge),b(xe*100)}},B=async()=>{if(h.current)try{document.fullscreenElement?await document.exitFullscreen():await h.current.requestFullscreen()}catch(g){console.error("Error attempting to toggle fullscreen:",g)}},qe=()=>{u.current&&(A?(u.current.unMute(),E(!1),w(u.current.getVolume())):(u.current.mute(),E(!0),w(0)))},Ve=g=>{const k=parseInt(g.target.value);w(k),u.current&&(u.current.setVolume(k),k===0?(u.current.mute(),E(!0)):A&&(u.current.unMute(),E(!1)))},he=g=>(g.preventDefault(),!1);return t.jsxs("div",{ref:h,className:`video-player-container group relative aspect-video w-full overflow-hidden rounded-md bg-gradient-to-br from-gray-900 to-black shadow-2xl shadow-primary/10 ring-1 ring-white/10 ${_?"rounded-none":""}`,onContextMenu:he,style:{userSelect:"none"},children:[t.jsx("div",{className:"absolute inset-0",style:{pointerEvents:N?"auto":"none"},children:t.jsx(kt,{videoId:r,opts:O,onReady:z,onStateChange:Y,className:"absolute inset-0 h-full w-full",iframeClassName:"absolute inset-0 h-full w-full"})}),!N&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"size-12 animate-spin rounded-full border-4 border-primary/30 border-t-primary"}),t.jsx("span",{className:"text-sm font-medium text-white/70",children:"Memuat video..."})]})}),t.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col justify-end bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:[!_&&t.jsxs("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center gap-6",children:[t.jsx("button",{onClick:q,className:"pointer-events-auto flex size-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all hover:scale-110 hover:bg-white/20",title:"Mundur 10 detik",children:t.jsx(x,{name:"replay_10",size:28})}),t.jsx("button",{onClick:M,className:"pointer-events-auto flex size-16 items-center justify-center rounded-full bg-primary/90 text-white shadow-lg shadow-primary/30 transition-all hover:scale-110 hover:bg-primary",title:d?"Pause":"Play",children:t.jsx(x,{name:d?"pause":"play_arrow",size:36})}),t.jsx("button",{onClick:U,className:"pointer-events-auto flex size-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all hover:scale-110 hover:bg-white/20",title:"Maju 10 detik",children:t.jsx(x,{name:"forward_10",size:28})})]}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-3 px-4 pb-4 pt-8 sm:px-6",children:[t.jsxs("div",{className:"group/progress relative h-1.5 w-full cursor-pointer overflow-hidden rounded-full bg-white/20 transition-all hover:h-2.5",onClick:re,children:[t.jsx("div",{className:"absolute h-full w-full bg-white/10"}),t.jsx("div",{className:"absolute h-full rounded-full bg-primary/50 blur-sm",style:{width:`${m}%`}}),t.jsx("div",{className:"relative h-full rounded-full bg-gradient-to-r from-primary via-primary to-emerald-400 transition-all",style:{width:`${m}%`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})}),t.jsx("div",{className:"absolute top-1/2 size-4 -translate-y-1/2 rounded-full border-2 border-white bg-primary opacity-0 shadow-lg transition-opacity group-hover/progress:opacity-100",style:{left:`calc(${m}% - 8px)`}})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:M,className:"flex size-9 items-center justify-center rounded-md text-white transition-all hover:bg-white/10",children:t.jsx(x,{name:d?"pause":"play_arrow",size:24})}),t.jsx("button",{onClick:q,className:"hidden size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-white sm:flex",children:t.jsx(x,{name:"replay_10",size:20})}),t.jsx("button",{onClick:U,className:"hidden size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-white sm:flex",children:t.jsx(x,{name:"forward_10",size:20})}),t.jsxs("div",{className:"group/volume flex items-center",children:[t.jsx("button",{onClick:qe,className:"flex size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-white",children:t.jsx(x,{name:A||v===0?"volume_off":v<50?"volume_down":"volume_up",size:22})}),t.jsx("div",{className:"w-0 overflow-hidden px-0 transition-all duration-300 ease-out group-hover/volume:w-32 group-hover/volume:px-3",children:t.jsx("input",{type:"range",min:"0",max:"100",value:v,onChange:Ve,className:"h-1 w-full cursor-pointer appearance-none rounded-lg bg-white/30 accent-white"})})]}),t.jsxs("span",{className:"text-sm font-medium text-white",children:[t.jsx("span",{className:"text-primary",children:R(c)}),t.jsx("span",{className:"mx-1.5 text-white/50",children:"/"}),t.jsx("span",{className:"text-white/70",children:R(p)})]})]}),t.jsx("div",{className:"flex items-center gap-1",children:t.jsx("button",{onClick:B,className:"flex size-9 items-center justify-center rounded-md text-white/80 transition-all hover:bg-white/10 hover:text-primary",title:_?"Keluar Fullscreen":"Fullscreen",children:t.jsx(x,{name:_?"fullscreen_exit":"fullscreen",size:24})})})]})]})]}),t.jsx("div",{className:"pointer-events-none absolute inset-0 select-none",onContextMenu:he})]})}function It({classData:r,currentVideo:e,progressStats:s,navigation:a,certificateStatus:i}){const[o,u]=j.useState(e.notes[0]||null),[h,d]=j.useState(0),[n,c]=j.useState(!1),p=(y=>{const v=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/\s]{11})/,w=y?.match(v);return w?w[1]:""})(e.video.youtube_url||""),f=j.useCallback(async(y,v)=>{if(!(Math.abs(v-h)<10))try{await F.post(`/user/study/${r.id}/video/${e.video.id}/progress`,{last_time_sec:Math.floor(v)}),d(v)}catch(w){console.error("Failed to save progress:",w)}},[r.id,e.video.id,h]),m=async()=>{try{await F.post(`/user/study/${r.id}/video/${e.video.id}/complete`),D.reload({only:["progressStats","currentVideo","certificateStatus"]})}catch(y){console.error("Failed to mark video as completed:",y)}},b=async y=>{try{const v=await F.post(`/user/study/${r.id}/video/${e.video.id}/notes`,{content:y});u(v.data.note)}catch(v){throw console.error("Failed to add note:",v),v}},N=async(y,v)=>{try{const w=await F.put(`/user/study/notes/${y}`,{content:v});u(w.data.note)}catch(w){throw console.error("Failed to update note:",w),w}},C=y=>{D.visit(`/user/study/${r.id}/video/${y}`)},_=async()=>{if(!n&&!e.progress?.is_completed){c(!0);try{await F.post(`/user/study/${r.id}/video/${e.video.id}/complete`),D.reload({only:["progressStats","currentVideo","certificateStatus"]})}catch(y){console.error("Failed to complete video:",y)}finally{c(!1)}}};return t.jsxs(De,{rightSidebar:t.jsx(Ue,{classData:r,currentVideoId:e.video.id,progressStats:s,onVideoSelect:C,certificateStatus:i}),children:[t.jsx(Fe,{title:`${e.video.title} - ${r.title}`}),t.jsxs("div",{className:"mt-6 flex flex-col gap-4 sm:mt-8 lg:mt-12 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h1",{className:"text-xl font-extrabold tracking-tight text-slate-900 sm:text-2xl lg:text-3xl",children:r.title}),t.jsx("p",{className:"text-sm font-normal text-slate-500 sm:text-base lg:text-lg",children:e.video.title})]}),t.jsx("button",{onClick:_,disabled:n||e.progress?.is_completed,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:from-green-600 hover:to-emerald-700 hover:shadow-lg disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto sm:px-5",children:n?t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"progress_activity",size:18,className:"animate-spin"}),"Memproses..."]}):e.progress?.is_completed?t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"check_circle",size:18}),"Video Selesai"]}):t.jsxs(t.Fragment,{children:[t.jsx(x,{name:"task_alt",size:18}),"Selesaikan Video"]})})]}),t.jsx(Et,{videoId:p,initialTime:e.progress?.last_time_sec||0,onProgress:f,onEnd:m}),t.jsx(He,{note:o,onSave:b,onUpdate:N}),t.jsx(Be,{video:e.video,resources:e.resources,navigation:a,onNavigate:C}),t.jsx(Ge,{mentors:r.mentors})]})}export{It as default};
