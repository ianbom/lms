import{j as e,r as m,a as i,H as k}from"./app-wmMc2fTp.js";import{I as a}from"./Icon-DwnJikYR.js";import{l as C}from"./lodash-DkwcZpEX.js";import{A as S}from"./AdminLayout-Dx9jRmJK.js";import"./Avatar-BxrD2P9k.js";function z({stats:t}){return e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6",children:[e.jsxs("div",{className:"flex flex-col justify-between rounded-xl border border-slate-100 bg-white p-5 shadow-[0_2px_10px_-3px_rgba(6,81,237,0.1)]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Total Users"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-50",children:e.jsx(a,{name:"people",size:20,className:"text-blue-600"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:t.total})})]}),e.jsxs("div",{className:"flex flex-col justify-between rounded-xl border border-l-4 border-y-slate-100 border-l-purple-500 border-r-slate-100 bg-white p-5 shadow-[0_2px_10px_-3px_rgba(6,81,237,0.1)]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Admin"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-50",children:e.jsx(a,{name:"admin_panel_settings",size:20,className:"text-purple-600"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t.admins})})]}),e.jsxs("div",{className:"flex flex-col justify-between rounded-xl border border-l-4 border-y-slate-100 border-l-green-500 border-r-slate-100 bg-white p-5 shadow-[0_2px_10px_-3px_rgba(6,81,237,0.1)]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"User"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-50",children:e.jsx(a,{name:"person",size:20,className:"text-green-600"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.users})})]}),e.jsxs("div",{className:"flex flex-col justify-between rounded-xl border border-slate-100 bg-white p-5 shadow-[0_2px_10px_-3px_rgba(6,81,237,0.1)]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Terverifikasi"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-50",children:e.jsx(a,{name:"verified",size:20,className:"text-emerald-600"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:t.verified})})]}),e.jsxs("div",{className:"flex flex-col justify-between rounded-xl border border-slate-100 bg-white p-5 shadow-[0_2px_10px_-3px_rgba(6,81,237,0.1)]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Belum Verifikasi"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-50",children:e.jsx(a,{name:"warning",size:20,className:"text-orange-600"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:t.unverified})})]}),e.jsxs("div",{className:"flex flex-col justify-between rounded-xl border border-slate-100 bg-white p-5 shadow-[0_2px_10px_-3px_rgba(6,81,237,0.1)]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Bulan Ini"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-cyan-50",children:e.jsx(a,{name:"trending_up",size:20,className:"text-cyan-600"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:t.new_this_month})})]})]})}function U({users:t,filters:l,pagination:n}){const[g,j]=m.useState(l.search||""),[d,f]=m.useState(!1),[c,b]=m.useState({isOpen:!1,userId:null,userName:null}),N=s=>{s&&i.get(s,{},{preserveState:!0,replace:!0})},v=m.useCallback(C.debounce(s=>{i.get(route("admin.users"),{...l,search:s},{preserveState:!0,replace:!0})},300),[l]),w=s=>{j(s.target.value),v(s.target.value)},p=s=>{const r={...l,role:s||void 0};i.get(route("admin.users"),r,{preserveState:!0,replace:!0})},u=s=>{const r={...l,verified:s||void 0};i.get(route("admin.users"),r,{preserveState:!0,replace:!0})},x=s=>{const r=l.sort===s&&l.direction==="asc"?"desc":"asc";i.get(route("admin.users"),{...l,sort:s,direction:r},{preserveState:!0,replace:!0})},y=(s,r)=>{b({isOpen:!0,userId:s,userName:r})},h=()=>{b({isOpen:!1,userId:null,userName:null})},_=()=>{c.userId&&(f(!0),i.delete(route("admin.users.delete",{userId:c.userId}),{preserveScroll:!0,onSuccess:()=>{h()},onFinish:()=>{f(!1)}}))},o=s=>l.sort!==s?"unfold_more":l.direction==="asc"?"expand_less":"expand_more";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex flex-col gap-4 border-b border-slate-100 p-5 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"no-scrollbar flex gap-2 overflow-x-auto pb-2 lg:pb-0",children:[e.jsx("button",{onClick:()=>p(null),className:`whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${l.role?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-primary text-white ring-2 ring-primary ring-offset-1"}`,children:"Semua"}),e.jsx("button",{onClick:()=>p("admin"),className:`whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${l.role==="admin"?"bg-primary text-white ring-2 ring-primary ring-offset-1":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Admin"}),e.jsx("button",{onClick:()=>p("user"),className:`whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${l.role==="user"?"bg-primary text-white ring-2 ring-primary ring-offset-1":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"User"}),e.jsx("div",{className:"mx-2 h-8 w-px bg-slate-200"}),e.jsx("button",{onClick:()=>u(null),className:`whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${l.verified?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-emerald-500 text-white ring-2 ring-emerald-500 ring-offset-1"}`,children:"Semua Status"}),e.jsx("button",{onClick:()=>u("verified"),className:`whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${l.verified==="verified"?"bg-emerald-500 text-white ring-2 ring-emerald-500 ring-offset-1":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Verified"}),e.jsx("button",{onClick:()=>u("unverified"),className:`whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${l.verified==="unverified"?"bg-emerald-500 text-white ring-2 ring-emerald-500 ring-offset-1":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:"Unverified"})]}),e.jsx("div",{className:"flex flex-1 items-center gap-3 lg:justify-end",children:e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400",children:e.jsx(a,{name:"search",size:20})}),e.jsx("input",{className:"block w-full rounded-md border-slate-200 bg-slate-50 py-2 pl-10 pr-4 text-sm text-slate-900 placeholder-slate-400 focus:border-primary focus:bg-white focus:ring-primary",placeholder:"Cari nama atau email...",type:"text",value:g,onChange:w})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50/50 text-xs uppercase tracking-wider text-slate-500",children:[e.jsx("th",{className:"px-6 py-4 font-semibold",children:"ID"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:e.jsxs("button",{onClick:()=>x("name"),className:"flex items-center gap-1 hover:text-slate-700",children:["User",e.jsx(a,{name:o("name"),size:16})]})}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:e.jsxs("button",{onClick:()=>x("email"),className:"flex items-center gap-1 hover:text-slate-700",children:["Email",e.jsx(a,{name:o("email"),size:16})]})}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:e.jsxs("button",{onClick:()=>x("role"),className:"flex items-center gap-1 hover:text-slate-700",children:["Role",e.jsx(a,{name:o("role"),size:16})]})}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:e.jsxs("button",{onClick:()=>x("created_at"),className:"flex items-center gap-1 hover:text-slate-700",children:["Bergabung",e.jsx(a,{name:o("created_at"),size:16})]})}),e.jsx("th",{className:"px-6 py-4 text-right font-semibold",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:t.length>0?t.map(s=>e.jsxs("tr",{className:"group transition-colors hover:bg-slate-50",children:[e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:["#",s.id]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-primary to-emerald-400 text-sm font-bold text-white",children:s.name.charAt(0).toUpperCase()}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium text-slate-900",children:s.name})})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:s.email}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${s.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:s.role==="admin"?"Admin":"User"})}),e.jsx("td",{className:"px-6 py-4",children:s.email_verified_at?e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:[e.jsx(a,{name:"verified",size:14}),"Verified"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-orange-100 px-2.5 py-0.5 text-xs font-medium text-orange-800",children:[e.jsx(a,{name:"warning",size:14}),"Unverified"]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:s.formatted_created_at}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsx("button",{onClick:()=>y(s.id,s.name),className:"rounded-md p-2 text-slate-400 transition-colors hover:bg-red-50 hover:text-red-600",title:"Hapus User",children:e.jsx(a,{name:"delete",size:18})})})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(a,{name:"people",size:48,className:"text-slate-300"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Tidak ada user ditemukan"})]})})})})]})}),n.lastPage>1&&e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 border-t border-slate-100 px-6 py-4 sm:flex-row",children:[e.jsxs("p",{className:"text-sm text-slate-500",children:["Menampilkan ",n.from," - ",n.to," dari"," ",n.total," user"]}),e.jsx("div",{className:"flex items-center gap-1",children:n.links.map((s,r)=>e.jsx("button",{onClick:()=>N(s.url),disabled:!s.url,className:`min-w-[36px] rounded-md px-3 py-1.5 text-sm font-medium transition-colors ${s.active?"bg-primary text-white":s.url?"bg-slate-100 text-slate-600 hover:bg-slate-200":"cursor-not-allowed bg-slate-50 text-slate-300"}`,dangerouslySetInnerHTML:{__html:s.label}},r))})]})]}),c.isOpen&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:()=>!d&&h()}),e.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-xl bg-white p-6 shadow-xl",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:e.jsx(a,{name:"delete",size:32,className:"text-red-600"})}),e.jsx("h2",{className:"mb-2 text-center text-xl font-bold text-slate-900",children:"Hapus User?"}),e.jsxs("p",{className:"mb-6 text-center text-sm text-slate-600",children:["Apakah Anda yakin ingin menghapus user"," ",e.jsxs("strong",{children:['"',c.userName,'"']}),"? Tindakan ini tidak dapat dibatalkan."]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("button",{type:"button",onClick:h,disabled:d,className:"rounded-md border border-slate-300 px-4 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-100 disabled:opacity-50",children:"Batal"}),e.jsxs("button",{type:"button",onClick:_,disabled:d,className:"flex items-center gap-2 rounded-md bg-red-600 px-4 py-2.5 text-sm font-bold text-white shadow-md shadow-red-600/20 transition-all hover:bg-red-700 disabled:opacity-50",children:[e.jsx(a,{name:"delete",size:18}),d?"Menghapus...":"Ya, Hapus"]})]})]})]})]})}function H({users:t,stats:l,filters:n}){return e.jsxs(S,{breadcrumbs:[{label:"Users",href:"#"},{label:"List",href:"#"}],children:[e.jsx(k,{title:"Daftar User"}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"Daftar User"}),e.jsx("p",{className:"text-slate-500",children:"Manajemen pengguna platform LMS"})]})}),e.jsx(z,{stats:l}),e.jsx(U,{users:t.data,filters:n,pagination:{currentPage:t.current_page,lastPage:t.last_page,perPage:t.per_page,total:t.total,from:t.from,to:t.to,links:t.links}})]})]})}export{H as default};
