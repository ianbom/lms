import{j as e,r as n,H as c}from"./app-B2Z8cRq3.js";import{I as o}from"./Icon-DBwaLCyv.js";import{T as d,D as x,P as m}from"./TableToolbar-Cn_hmprE.js";import{U as g}from"./UserDashboardLayout-D2VpGZ3s.js";import"./lodash-BeRe4jle.js";const u=[{key:"total",icon:"receipt_long",label:"Total Order",bgColor:"bg-primary/10",textColor:"text-primary"},{key:"pending",icon:"pending",label:"Pending",bgColor:"bg-orange-50",textColor:"text-orange-600"},{key:"approved",icon:"check_circle",label:"Approved",bgColor:"bg-green-50",textColor:"text-green-600"},{key:"rejected",icon:"cancel",label:"Rejected",bgColor:"bg-red-50",textColor:"text-red-600"}];function b({stats:a}){return e.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:u.map(s=>e.jsxs("div",{className:"border-border-light shadow-card flex items-center gap-4 rounded-xl border bg-white p-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-md ${s.bgColor} ${s.textColor}`,children:e.jsx(o,{name:s.icon,size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:a[s.key]}),e.jsx("p",{className:"text-sm text-slate-500",children:s.label})]})]},s.key))})}const p={pending:{bg:"bg-orange-50",text:"text-orange-700",ring:"ring-orange-600/20",label:"Pending"},approved:{bg:"bg-green-50",text:"text-green-700",ring:"ring-green-600/20",label:"Approved"},rejected:{bg:"bg-red-50",text:"text-red-700",ring:"ring-red-600/20",label:"Rejected"},active:{bg:"bg-blue-50",text:"text-blue-700",ring:"ring-blue-600/20",label:"Active"},completed:{bg:"bg-green-50",text:"text-green-700",ring:"ring-green-600/20",label:"Completed"}};function h({status:a,size:s="sm"}){const r=p[a],l=s==="sm"?"px-2.5 py-0.5 text-xs":"px-3 py-1 text-sm";return e.jsx("span",{className:`inline-flex items-center rounded-full font-semibold ring-1 ring-inset ${r.bg} ${r.text} ${r.ring} ${l}`,children:r.label})}const f=[{value:null,label:"Semua"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],j=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),y=a=>new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});function w({orders:a,stats:s,filters:r}){const l=n.useMemo(()=>[{key:"id",header:"Order ID",render:t=>e.jsxs("span",{className:"text-sm font-medium text-slate-900",children:["#ORD-",t.id]})},{key:"class",header:"Kelas",render:t=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-14 rounded-md bg-slate-200 bg-cover bg-center",style:t.class.thumbnail_url?{backgroundImage:`url('${t.class.thumbnail_url}')`}:{}}),e.jsx("span",{className:"max-w-[200px] truncate text-sm font-semibold text-slate-900",children:t.class.title})]})},{key:"amount",header:"Total",headerClassName:"text-right",className:"text-right",render:t=>e.jsx("span",{className:"text-sm font-bold text-slate-900",children:j(t.amount)})},{key:"status",header:"Status",render:t=>e.jsx(h,{status:t.status})},{key:"transfer_date",header:"Tanggal Transfer",render:t=>e.jsx("span",{className:"text-sm text-slate-600",children:y(t.transfer_date)})},{key:"proof",header:"Bukti",headerClassName:"text-center",className:"text-center",render:t=>t.proof_url?e.jsxs("a",{href:t.proof_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-sm font-medium text-primary transition-colors hover:text-primary-dark",children:[e.jsx(o,{name:"visibility",size:18}),"Lihat"]}):e.jsx("span",{className:"text-sm text-slate-400",children:"-"})}],[]),i=n.useMemo(()=>({icon:"receipt_long",title:"Tidak ada pesanan",description:r.search||r.status?"Coba ubah filter atau kata kunci pencarian.":"Kamu belum memiliki pesanan. Mulai beli kelas sekarang!",action:!r.search&&!r.status?{label:"Jelajahi Kelas",href:route("user.classes"),icon:"explore"}:void 0}),[r.search,r.status]);return e.jsxs(g,{children:[e.jsx(c,{title:"Riwayat Pesanan"}),e.jsxs("div",{className:"mt-6 flex flex-col gap-1 lg:mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900 sm:text-3xl",children:"Riwayat Pesanan"}),e.jsx("p",{className:"text-sm text-slate-500 sm:text-base",children:"Lihat dan pantau status pembelian kelas kamu."})]}),e.jsx(b,{stats:s}),e.jsxs("div",{className:"flex flex-col overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:[e.jsx(d,{filters:r,routeName:"user.my-order",searchPlaceholder:"Cari order ID atau nama kelas...",filterOptions:f}),e.jsx(x,{columns:l,data:a.data,keyExtractor:t=>t.id,emptyState:i}),a.data.length>0&&e.jsx(m,{from:a.from,to:a.to,total:a.total,links:a.links})]})]})}export{w as default};
