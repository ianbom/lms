import{j as e,r as g,H as A,L as E}from"./app-UtKUC6ir.js";import{I as l}from"./Icon-D6o0Wb4v.js";import{F as M,a as T}from"./FormInput-Dptc1j_G.js";import{F as O}from"./FormSelect-CUkwTcgc.js";import{a as D}from"./AdminLayout-Cxk5dXNS.js";function F({onClick:s,className:c=""}){return e.jsxs("button",{type:"button",onClick:s,className:`group flex w-full flex-col items-center justify-center gap-2 rounded-xl border-2 border-dashed border-primary/30 py-8 text-primary transition-all hover:border-primary/50 hover:bg-primary/5 ${c}`,children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-3 transition-transform group-hover:scale-110",children:e.jsx(l,{name:"add",size:24})}),e.jsx("span",{className:"text-sm font-bold",children:"Add New Question"})]})}function I({option:s,questionId:c,onChange:x,onSelect:n,onRemove:p}){return e.jsxs("div",{className:`group flex items-center gap-3 rounded-lg border p-2 pr-4 transition-all ${s.isCorrect?"border-green-200 bg-green-50/50":"border-transparent hover:border-slate-200 hover:bg-slate-50"}`,children:[e.jsxs("label",{className:"relative flex h-10 w-10 shrink-0 cursor-pointer items-center justify-center",children:[e.jsx("input",{type:"radio",name:`q${c}_answer`,checked:s.isCorrect,onChange:()=>n(s.id),className:"peer sr-only"}),e.jsx("div",{className:`h-6 w-6 rounded-full border-2 transition-all ${s.isCorrect?"border-primary bg-primary":"border-slate-300"}`}),s.isCorrect&&e.jsx(l,{name:"check",size:16,className:"pointer-events-none absolute text-white"})]}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:s.text,onChange:h=>x(s.id,h.target.value),className:`w-full border-0 bg-transparent p-0 text-sm focus:ring-0 ${s.isCorrect?"font-medium text-slate-800":"text-slate-600"}`,placeholder:"Enter option text..."})}),s.isCorrect&&e.jsx("span",{className:"rounded bg-white px-2 py-1 text-xs font-bold text-primary shadow-sm",children:"Correct"}),e.jsx("button",{type:"button",onClick:()=>p(s.id),className:"text-slate-400 opacity-0 transition-opacity hover:text-red-500 group-hover:opacity-100",children:e.jsx(l,{name:"close",size:18})})]})}function $({question:s,index:c,onToggle:x,onDelete:n,onDuplicate:p,onQuestionTextChange:h,onOptionChange:j,onOptionSelect:r,onOptionRemove:o,onAddOption:v}){return s.isExpanded?e.jsxs("div",{className:"group relative rounded-xl border-l-4 border-primary bg-white p-6 shadow-lg ring-1 ring-black/5 transition-all",children:[e.jsx("div",{className:"absolute left-3 top-6 cursor-move text-slate-300 hover:text-slate-500",children:e.jsx(l,{name:"drag_indicator",size:20})}),e.jsxs("div",{className:"pl-8",children:[e.jsxs("div",{className:"mb-5 flex items-center justify-between",children:[e.jsxs("h4",{className:"rounded bg-primary/10 px-2 py-1 text-xs font-bold uppercase tracking-wide text-primary",children:["Question ",c+1]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>p(s.id),className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-primary/5 hover:text-primary",title:"Duplicate",children:e.jsx(l,{name:"content_copy",size:20})}),e.jsx("button",{type:"button",onClick:()=>n(s.id),className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-red-50 hover:text-red-500",title:"Delete",children:e.jsx(l,{name:"delete",size:20})})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",value:s.text,onChange:u=>h(s.id,u.target.value),placeholder:"Enter your question...",className:"w-full border-0 border-b-2 border-slate-200 bg-transparent px-0 pb-2 text-lg font-medium text-[#101814] placeholder:text-slate-300 focus:border-primary focus:ring-0"})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("p",{className:"mb-1 text-xs font-semibold text-slate-500",children:"Answer Options"}),s.options.map(u=>e.jsx(I,{option:u,questionId:s.id,onChange:(m,y)=>j(s.id,m,y),onSelect:m=>r(s.id,m),onRemove:m=>o(s.id,m)},u.id)),e.jsxs("button",{type:"button",onClick:()=>v(s.id),className:"mt-1 flex w-fit items-center gap-2 text-sm font-semibold text-primary hover:underline",children:[e.jsx(l,{name:"add",size:18}),"Add Option"]})]}),e.jsx("div",{className:"mt-6 border-t border-slate-100 pt-4",children:e.jsxs("button",{type:"button",onClick:()=>x(s.id),className:"flex items-center gap-1 text-sm font-medium text-slate-400 hover:text-slate-600",children:[e.jsx(l,{name:"expand_less",size:18}),"Collapse"]})})]})]}):e.jsxs("div",{onClick:()=>x(s.id),className:"group flex cursor-pointer items-center gap-4 rounded-xl border border-slate-200 bg-white p-4 transition-shadow hover:shadow-md",children:[e.jsx("div",{className:"cursor-move text-slate-300",children:e.jsx(l,{name:"drag_indicator",size:20})}),e.jsx("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center sm:gap-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wide text-slate-400",children:["Q",c+1]}),e.jsx("p",{className:"line-clamp-1 text-sm font-medium text-slate-700",children:s.text||"Untitled Question"})]})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(l,{name:"expand_more",size:20,className:"text-slate-400"})})]})}const R=[{value:"practice",label:"Practice",icon:"school"},{value:"required",label:"Required",icon:"fact_check"},{value:"pretest",label:"Pre-test",icon:"timer"}];function W({value:s,onChange:c,className:x=""}){return e.jsxs("div",{className:x,children:[e.jsx("label",{className:"mb-2 block text-sm font-semibold text-[#101814]",children:"Quiz Context"}),e.jsx("div",{className:"grid grid-cols-3 gap-3 rounded-xl bg-slate-100 p-1",children:R.map(n=>e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"radio",name:"quiz_context",value:n.value,checked:s===n.value,onChange:()=>c(n.value),className:"peer sr-only"}),e.jsxs("div",{className:`flex items-center justify-center gap-2 rounded-lg border px-4 py-2.5 transition-all ${s===n.value?"border-black/5 bg-white text-primary shadow-sm":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[e.jsx(l,{name:n.icon,size:20}),e.jsx("span",{className:"text-sm font-bold",children:n.label})]})]},n.value))})]})}const B=[{id:1,text:"Which HTML tag is used to define an internal style sheet?",type:"multiple_choice",isExpanded:!0,options:[{id:1,text:"<style>",isCorrect:!0},{id:2,text:"<script>",isCorrect:!1},{id:3,text:"<css>",isCorrect:!1}]},{id:2,text:"What is the correct CSS syntax for making all the <p> elements bold?",type:"multiple_choice",isExpanded:!1,options:[{id:1,text:"p { font-weight: bold; }",isCorrect:!0},{id:2,text:"p { text-style: bold; }",isCorrect:!1}]},{id:3,text:"Which property is used to change the background color?",type:"multiple_choice",isExpanded:!1,options:[{id:1,text:"color",isCorrect:!1},{id:2,text:"background-color",isCorrect:!0},{id:3,text:"bgcolor",isCorrect:!1},{id:4,text:"bg-color",isCorrect:!1}]}];function G(){const[s,c]=g.useState("Web Development Basics - Final Quiz"),[x,n]=g.useState(""),[p,h]=g.useState("required"),j=[{value:"1",label:"Module 1: HTML Basics"},{value:"2",label:"Module 2: CSS Fundamentals"},{value:"3",label:"Module 3: JavaScript Essentials"},{value:"4",label:"Module 4: Advanced React"}],[r,o]=g.useState(B),v=a=>{o(r.map(t=>t.id===a?{...t,isExpanded:!t.isExpanded}:t))},u=a=>{o(r.filter(t=>t.id!==a))},m=a=>{const t=r.find(i=>i.id===a);if(t){const i=Math.max(...r.map(f=>f.id))+1,d={...t,id:i,text:`${t.text} (Copy)`,options:t.options.map((f,_)=>({...f,id:i*100+_}))},b=r.findIndex(f=>f.id===a),w=[...r];w.splice(b+1,0,d),o(w)}},y=(a,t)=>{o(r.map(i=>i.id===a?{...i,text:t}:i))},Q=(a,t,i)=>{o(r.map(d=>d.id===a?{...d,options:d.options.map(b=>b.id===t?{...b,text:i}:b)}:d))},z=(a,t)=>{o(r.map(i=>i.id===a?{...i,options:i.options.map(d=>({...d,isCorrect:d.id===t}))}:i))},k=(a,t)=>{o(r.map(i=>i.id===a?{...i,options:i.options.filter(d=>d.id!==t)}:i))},S=a=>{o(r.map(t=>t.id===a?{...t,options:[...t.options,{id:Date.now(),text:"",isCorrect:!1}]}:t))},C=()=>{const a=Math.max(...r.map(i=>i.id),0)+1,t={id:a,text:"",type:"multiple_choice",isExpanded:!0,options:[{id:a*100+1,text:"",isCorrect:!0},{id:a*100+2,text:"",isCorrect:!1},{id:a*100+3,text:"",isCorrect:!1},{id:a*100+4,text:"",isCorrect:!1}]};o([...r.map(i=>({...i,isExpanded:!1})),t])},N=r.length;return e.jsxs(D,{breadcrumbs:[{label:"Classes",href:route("admin.classes")},{label:"Web Development 101"},{label:"Quiz Builder"}],children:[e.jsx(A,{title:"Create Quiz"}),e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 px-4 py-6 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-[#101814] sm:text-3xl",children:"Create Assessment"}),e.jsx("p",{className:"text-sm text-[#5e6a62] sm:text-base",children:"Configure your quiz settings and manage questions below."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{href:route("admin.classes"),className:"inline-flex items-center justify-center rounded-lg border border-[#dae7e0] bg-white px-4 py-2.5 text-sm font-semibold text-[#5e6a62] transition-colors hover:bg-[#f9fafb] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:"Cancel"}),e.jsxs("button",{type:"button",className:"inline-flex items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2.5 text-sm font-semibold text-white shadow-md shadow-primary/20 transition-all hover:bg-[#00622e] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:[e.jsx(l,{name:"save",size:20}),"Save & Publish"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-12 lg:gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-6 lg:col-span-8",children:[e.jsx(M,{icon:"tune",title:"Quiz Configuration",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(O,{label:"Select Module",placeholder:"Choose a module...",value:x,onChange:n,options:j}),e.jsx(T,{label:"Quiz Title",placeholder:"e.g. Module 3 Final Assessment",value:s,onChange:c}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsx(W,{value:p,onChange:h})})]})}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-[#f9fafb] px-4 py-3",children:[e.jsx("h2",{className:"text-base font-bold text-[#101814] sm:text-lg",children:"Questions"}),e.jsxs("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:[N," ",N===1?"Question":"Questions"]})]}),e.jsxs("div",{className:"space-y-4",children:[r.map((a,t)=>e.jsx($,{question:a,index:t,onToggle:v,onDelete:u,onDuplicate:m,onQuestionTextChange:y,onOptionChange:Q,onOptionSelect:z,onOptionRemove:k,onAddOption:S},a.id)),e.jsx(F,{onClick:C})]})]}),e.jsx("div",{className:"lg:col-span-4",children:e.jsxs("div",{className:"sticky top-6 space-y-6",children:[e.jsxs("div",{className:"overflow-hidden rounded-xl border border-[#e5e7eb] bg-white shadow-sm",children:[e.jsx("div",{className:"border-b border-[#e5e7eb] bg-gradient-to-r from-primary/5 to-primary/10 px-5 py-4",children:e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-[#101814]",children:"Quiz Summary"})}),e.jsxs("div",{className:"space-y-4 p-5",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-[#f9fafb] p-3",children:[e.jsx("span",{className:"text-sm text-[#5e6a62]",children:"Quiz Title"}),e.jsx("span",{className:"max-w-[140px] truncate text-sm font-semibold text-[#101814]",children:s||"Untitled"})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-[#f9fafb] p-3",children:[e.jsx("span",{className:"text-sm text-[#5e6a62]",children:"Context"}),e.jsx("span",{className:"text-sm font-semibold capitalize text-[#101814]",children:p})]})]}),e.jsxs("div",{className:"mt-5 space-y-3 border-t border-[#e5e7eb] pt-5",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-[#5e6a62]",children:"Question Breakdown"}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-primary/10 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{name:"quiz",size:16,className:"text-primary"}),e.jsx("span",{className:"text-sm font-semibold text-[#5e6a62]",children:"Total Questions"})]}),e.jsx("span",{className:"text-sm font-bold text-primary",children:N})]})})]}),e.jsxs("div",{className:"mt-5 space-y-2 border-t border-[#e5e7eb] pt-5",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-[#5e6a62]",children:"Quick Actions"}),e.jsxs("button",{type:"button",onClick:C,className:"flex w-full items-center justify-center gap-2 rounded-lg bg-primary/5 px-3 py-2.5 text-sm font-semibold text-primary transition-colors hover:bg-primary/10",children:[e.jsx(l,{name:"add_circle",size:18}),"Add Question"]})]})]})]}),e.jsx("div",{className:"rounded-xl border border-blue-200 bg-blue-50 p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(l,{name:"info",size:20,className:"shrink-0 text-blue-600"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Quiz Tips"}),e.jsx("p",{className:"text-xs leading-relaxed text-blue-700",children:"Set a passing score that challenges students while remaining achievable. We recommend 70-80% for most assessments."})]})]})})]})})]})]})]})}export{G as default};
