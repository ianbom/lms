import{j as e,L as _,a as h,r as d}from"./app-B2Z8cRq3.js";import{I as i}from"./Icon-DBwaLCyv.js";import{l as F}from"./lodash-BeRe4jle.js";function A({columns:s,data:c,keyExtractor:o,emptyState:t,className:l=""}){return e.jsx("div",{className:`overflow-x-auto ${l}`,children:e.jsxs("table",{className:"w-full border-collapse text-left",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-slate-100 bg-slate-50/50 text-xs uppercase tracking-wider text-slate-500",children:s.map(n=>e.jsx("th",{className:`px-6 py-4 font-semibold ${n.headerClassName||""}`,children:n.header},n.key))})}),e.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:c.length>0?c.map(n=>e.jsx("tr",{className:"group transition-colors hover:bg-slate-50",children:s.map(r=>e.jsx("td",{className:`px-6 py-4 ${r.className||""}`,children:r.render(n)},r.key))},o(n))):e.jsx("tr",{children:e.jsx("td",{colSpan:s.length,className:"px-6 py-12 text-center",children:t?e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100 text-slate-400",children:e.jsx(i,{name:t.icon,size:32})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-900",children:t.title}),e.jsx("p",{className:"mb-6 text-sm text-slate-500",children:t.description}),t.action&&e.jsxs(_,{href:t.action.href,className:"inline-flex items-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-primary-dark",children:[t.action.icon&&e.jsx(i,{name:t.action.icon,size:18}),t.action.label]})]}):e.jsx("span",{className:"text-slate-500",children:"Tidak ada data"})})})})]})})}function O({from:s,to:c,total:o,links:t,className:l=""}){const n=r=>{r&&h.get(r,{},{preserveState:!0,replace:!0})};return o===0?null:e.jsxs("div",{className:`flex items-center justify-between border-t border-slate-200 bg-white px-6 py-4 ${l}`,children:[e.jsxs("p",{className:"text-sm text-slate-500",children:["Menampilkan ",e.jsx("span",{className:"font-medium",children:s||0})," ","sampai ",e.jsx("span",{className:"font-medium",children:c||0})," dari"," ",e.jsx("span",{className:"font-medium",children:o})," hasil"]}),e.jsx("div",{className:"flex items-center gap-1",children:t.map((r,b)=>e.jsx("button",{onClick:()=>n(r.url),disabled:!r.url||r.active,className:`rounded-md px-3 py-1.5 text-sm font-medium transition-colors ${r.active?"bg-primary text-white":r.url?"bg-slate-100 text-slate-700 hover:bg-slate-200":"cursor-not-allowed bg-slate-50 text-slate-400"}`,dangerouslySetInnerHTML:{__html:r.label}},b))})]})}const L=[{value:"created_at",direction:"desc",label:"Terbaru"},{value:"created_at",direction:"asc",label:"Terlama"},{value:"amount",direction:"desc",label:"Harga Tertinggi"},{value:"amount",direction:"asc",label:"Harga Terendah"},{value:"title",direction:"asc",label:"A-Z"},{value:"title",direction:"desc",label:"Z-A"}];function P({filters:s,routeName:c,searchPlaceholder:o="Cari...",filterOptions:t=[],filterKey:l="status",sortOptions:n=L,showSort:r=!0,showFilter:b=!0}){const[f,N]=d.useState(s.search||""),[p,x]=d.useState(!1),[v,u]=d.useState(!1),g=d.useRef(null),j=d.useRef(null);d.useEffect(()=>{const a=m=>{g.current&&!g.current.contains(m.target)&&x(!1),j.current&&!j.current.contains(m.target)&&u(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const w=d.useCallback(F.debounce(a=>{h.get(route(c),{...s,search:a},{preserveState:!0,replace:!0})},300),[s,c]),y=a=>{N(a.target.value),w(a.target.value)},k=a=>{const m={...s,[l]:a||void 0};h.get(route(c),m,{preserveState:!0,replace:!0}),x(!1)},T=a=>{h.get(route(c),{...s,sort:a.value,direction:a.direction},{preserveState:!0,replace:!0}),u(!1)},$=t.find(a=>a.value===s[l]||!s[l]&&a.value===null)?.label||"Filter",C=n.find(a=>a.value===s.sort&&a.direction===s.direction)?.label||"Urutkan",z=s[l]!==void 0,S=s.sort!==void 0&&s.direction!==void 0;return e.jsxs("div",{className:"flex flex-col gap-4 border-b border-slate-100 p-5 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[b&&t.length>0&&e.jsxs("div",{ref:g,className:"relative",children:[e.jsxs("button",{onClick:()=>{x(!p),u(!1)},className:`flex items-center gap-2 rounded-md border px-3 py-2 text-sm font-medium transition-colors ${z?"border-primary bg-primary/5 text-primary":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,children:[e.jsx(i,{name:"filter_list",size:20}),e.jsx("span",{children:$}),e.jsx(i,{name:"expand_more",size:18,className:`transition-transform ${p?"rotate-180":""}`})]}),p&&e.jsx("div",{className:"absolute left-0 top-full z-10 mt-1 min-w-[160px] overflow-hidden rounded-md border border-slate-200 bg-white py-1 shadow-lg",children:t.map(a=>e.jsxs("button",{onClick:()=>k(a.value),className:`flex w-full items-center gap-2 px-4 py-2 text-left text-sm transition-colors ${s[l]===a.value||!s[l]&&a.value===null?"bg-primary/10 font-medium text-primary":"text-slate-700 hover:bg-slate-50"}`,children:[(s[l]===a.value||!s[l]&&a.value===null)&&e.jsx(i,{name:"check",size:16}),e.jsx("span",{className:s[l]===a.value||!s[l]&&a.value===null?"":"pl-6",children:a.label})]},a.value??"all"))})]}),r&&e.jsxs("div",{ref:j,className:"relative",children:[e.jsxs("button",{onClick:()=>{u(!v),x(!1)},className:`flex items-center gap-2 rounded-md border px-3 py-2 text-sm font-medium transition-colors ${S?"border-primary bg-primary/5 text-primary":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,children:[e.jsx(i,{name:"sort",size:20}),e.jsx("span",{children:C}),e.jsx(i,{name:"expand_more",size:18,className:`transition-transform ${v?"rotate-180":""}`})]}),v&&e.jsx("div",{className:"absolute left-0 top-full z-10 mt-1 min-w-[180px] overflow-hidden rounded-md border border-slate-200 bg-white py-1 shadow-lg",children:n.map((a,m)=>e.jsxs("button",{onClick:()=>T(a),className:`flex w-full items-center gap-2 px-4 py-2 text-left text-sm transition-colors ${s.sort===a.value&&s.direction===a.direction?"bg-primary/10 font-medium text-primary":"text-slate-700 hover:bg-slate-50"}`,children:[s.sort===a.value&&s.direction===a.direction&&e.jsx(i,{name:"check",size:16}),e.jsx("span",{className:s.sort===a.value&&s.direction===a.direction?"":"pl-6",children:a.label})]},`${a.value}-${a.direction}`))})]})]}),e.jsx("div",{className:"flex flex-1 items-center gap-3 lg:justify-end",children:e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400",children:e.jsx(i,{name:"search",size:20})}),e.jsx("input",{className:"block w-full rounded-md border-slate-200 bg-slate-50 py-2 pl-10 pr-4 text-sm text-slate-900 placeholder-slate-400 focus:border-primary focus:bg-white focus:ring-primary",placeholder:o,type:"text",value:f,onChange:y})]})})]})}export{A as D,O as P,P as T};
